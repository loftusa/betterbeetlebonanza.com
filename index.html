<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🪳 BETTER BEETLE BONANZA 🪳</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Comic+Sans+MS&display=swap');
        
        * {
            cursor: auto;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        .beetle-cursor {
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><text y="16" font-size="16">🪳</text></svg>'), auto;
        }

        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            overflow: hidden;
            animation: flashingColors 1.5s infinite;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(255,255,255,0.2) 2px, transparent 2px),
                radial-gradient(circle at 75% 75%, rgba(255,255,255,0.1) 1px, transparent 1px);
            background-size: 50px 50px;
        }

        @keyframes flashingColors {
            0% { background-color: #ff0066; }
            12.5% { background-color: #00ff66; }
            25% { background-color: #6600ff; }
            37.5% { background-color: #ffff00; }
            50% { background-color: #ff6600; }
            62.5% { background-color: #00ffff; }
            75% { background-color: #ff0099; }
            87.5% { background-color: #99ff00; }
            100% { background-color: #ff0066; }
        }

        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
            opacity: 0.1;
        }

        .title {
            font-size: 5rem;
            font-weight: bold;
            color: white;
            text-shadow: 
                3px 3px 0px black,
                6px 6px 0px rgba(255,0,255,0.5),
                9px 9px 0px rgba(0,255,255,0.3);
            margin: 20px 0;
            animation: bounce 0.8s infinite, rainbow-text 2s infinite;
            text-align: center;
            white-space: nowrap;
            filter: drop-shadow(0 0 20px rgba(255,255,255,0.8));
            transform: perspective(500px) rotateX(15deg);
        }

        @keyframes bounce {
            0%, 100% { transform: perspective(500px) rotateX(15deg) translateY(0) scale(1); }
            50% { transform: perspective(500px) rotateX(15deg) translateY(-30px) scale(1.05); }
        }

        @keyframes rainbow-text {
            0% { filter: drop-shadow(0 0 20px rgba(255,0,0,0.8)); }
            16.66% { filter: drop-shadow(0 0 20px rgba(255,165,0,0.8)); }
            33.33% { filter: drop-shadow(0 0 20px rgba(255,255,0,0.8)); }
            50% { filter: drop-shadow(0 0 20px rgba(0,255,0,0.8)); }
            66.66% { filter: drop-shadow(0 0 20px rgba(0,0,255,0.8)); }
            83.33% { filter: drop-shadow(0 0 20px rgba(128,0,128,0.8)); }
            100% { filter: drop-shadow(0 0 20px rgba(255,0,0,0.8)); }
        }

        .subtitle {
            font-size: 1.5rem;
            color: #ff69b4;
            text-shadow: 2px 2px 0px black;
            margin: -10px 0 20px 0;
            animation: wiggle 1.5s infinite;
            font-style: italic;
        }

        @keyframes wiggle {
            0%, 100% { transform: rotate(-2deg); }
            50% { transform: rotate(2deg); }
        }

        .music-bar {
            background: linear-gradient(45deg, rgba(255,0,255,0.9), rgba(0,255,255,0.9));
            padding: 20px 40px;
            border-radius: 20px;
            border: 5px solid white;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 25px;
            box-shadow: 
                0 0 20px rgba(255,255,255,0.5),
                inset 0 0 20px rgba(0,0,0,0.2);
            animation: glow-pulse 2s infinite;
            position: relative;
        }
        
        .upgrade-icon-display {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            font-size: 3rem;
            cursor: pointer;
            transition: all 0.3s;
            filter: drop-shadow(0 0 10px rgba(255,255,255,0.5));
            animation: upgrade-idle 2s ease-in-out infinite;
            display: none;
        }
        
        .upgrade-icon-display.visible {
            display: block;
        }
        
        .upgrade-icon-display:hover {
            transform: translateY(-50%) scale(1.2);
            filter: drop-shadow(0 0 20px rgba(255,255,255,0.8));
        }
        
        .upgrade-icon-display:active {
            transform: translateY(-50%) scale(0.9);
        }
        
        .lab-icon {
            left: -80px;
        }
        
        .portal-icon {
            right: -80px;
        }
        
        @keyframes upgrade-idle {
            0%, 100% { transform: translateY(-50%) rotate(-2deg); }
            50% { transform: translateY(-50%) rotate(2deg); }
        }

        @keyframes glow-pulse {
            0%, 100% { box-shadow: 0 0 20px rgba(255,255,255,0.5), inset 0 0 20px rgba(0,0,0,0.2); }
            50% { box-shadow: 0 0 40px rgba(255,255,255,0.8), inset 0 0 20px rgba(0,0,0,0.2); }
        }

        .play-button {
            background: linear-gradient(45deg, #ff0066, #ff3399);
            color: white;
            border: 3px solid white;
            padding: 15px 30px;
            font-size: 1.5rem;
            font-weight: bold;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Comic Sans MS', cursive;
            text-shadow: 2px 2px 0px black;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .play-button:hover {
            background: linear-gradient(45deg, #ff3388, #ff66bb);
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 8px 25px rgba(255,0,100,0.5);
        }

        .play-button:active {
            transform: scale(0.95);
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .volume-label {
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            text-shadow: 2px 2px 0px black;
        }

        .volume-slider {
            width: 120px;
            height: 8px;
            background: linear-gradient(90deg, #333, #666);
            outline: none;
            border-radius: 10px;
            cursor: pointer;
            border: 2px solid white;
        }

        .volume-slider::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            background: linear-gradient(45deg, #ff0066, #00ffff);
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 0 10px rgba(255,255,255,0.5);
        }

        .volume-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: linear-gradient(45deg, #ff0066, #00ffff);
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 0 10px rgba(255,255,255,0.5);
        }

        .instruction-text {
            color: #ff69b4;
            font-size: 1.5rem;
            font-weight: bold;
            text-shadow: 3px 3px 0px black;
            margin-bottom: 30px;
            animation: pulse-text 1.5s infinite;
            text-align: center;
        }

        @keyframes pulse-text {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }
        
        .typewriter-display {
            color: #00ff00;
            font-family: 'Courier New', monospace;
            font-size: 1.3rem;
            font-weight: bold;
            text-shadow: 0 0 10px #00ff00;
            margin: 20px 0;
            text-align: center;
            min-height: 30px;
            position: relative;
        }
        
        .typewriter-display::after {
            content: '|';
            animation: cursor-blink 1s infinite;
            color: #00ff00;
        }
        
        .typewriter-display.typing::after {
            animation: cursor-blink 0.5s infinite;
        }
        
        .typewriter-display.empty::after {
            display: none;
        }
        
        @keyframes cursor-blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }
        
        @keyframes text-delete {
            0% { opacity: 1; }
            100% { opacity: 0; }
        }
        
        .sacred-clock {
            position: fixed;
            top: 80px;
            left: 20px;
            background: linear-gradient(45deg, #000000, #1a1a2e);
            color: #00ff00;
            border: 2px solid #00ff00;
            padding: 10px 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.3);
            z-index: 1500;
        }
        
        .sacred-clock:hover {
            box-shadow: 0 0 25px rgba(0, 255, 0, 0.6);
            transform: scale(1.05);
        }
        
        .sacred-clock.manipulation-mode {
            border-color: #ff0066;
            color: #ff0066;
            box-shadow: 0 0 15px rgba(255, 0, 102, 0.3);
        }
        
        .sacred-clock.manipulation-mode:hover {
            box-shadow: 0 0 25px rgba(255, 0, 102, 0.6);
        }
        
        .clock-time {
            font-size: 1.2rem;
            font-weight: bold;
            text-shadow: 0 0 10px currentColor;
        }
        
        .clock-label {
            font-size: 0.7rem;
            opacity: 0.8;
            margin-top: 2px;
        }
        
        @keyframes clock-pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .beetles-container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            width: 90%;
            height: 400px;
            margin-top: 10px;
            position: relative;
        }

        .beetle {
            font-size: 8rem;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            filter: drop-shadow(0 0 15px rgba(255,255,255,0.5));
        }

        .beetle img {
            width: 250px;
            height: 250px;
            object-fit: contain;
            filter: drop-shadow(0 0 20px rgba(255,255,255,0.6));
        }

        .beetle-name {
            font-size: 1.3rem;
            color: white;
            text-shadow: 
                2px 2px 0px black,
                4px 4px 0px rgba(255,0,255,0.5);
            margin-top: 15px;
            font-weight: bold;
            background: rgba(0,0,0,0.7);
            padding: 8px 16px;
            border-radius: 20px;
            border: 2px solid white;
            animation: name-glow 2s infinite;
        }

        @keyframes name-glow {
            0%, 100% { box-shadow: 0 0 10px rgba(255,255,255,0.3); }
            50% { box-shadow: 0 0 20px rgba(255,0,255,0.6); }
        }

        .grangus {
            animation: circularDance 3s infinite linear;
        }

        @keyframes circularDance {
            0% { transform: rotateY(0deg) scale(1); }
            25% { transform: rotateY(90deg) scale(1.1); }
            50% { transform: rotateY(180deg) scale(1); }
            75% { transform: rotateY(270deg) scale(1.1); }
            100% { transform: rotateY(360deg) scale(1); }
        }

        .deet {
            animation: bobbing 1.2s infinite ease-in-out;
        }

        @keyframes bobbing {
            0%, 100% { 
                transform: translateY(0) rotate(-5deg) scale(1); 
                filter: drop-shadow(0 0 15px rgba(255,255,0,0.5)); 
            }
            50% { 
                transform: translateY(-40px) rotate(5deg) scale(1.1); 
                filter: drop-shadow(0 0 25px rgba(255,255,0,0.8)); 
            }
        }

        .prosciutto {
            animation: spin 4s infinite linear;
            color: #1a1a1a;
            position: relative;
        }

        @keyframes spin {
            0% { 
                transform: rotate(0deg) scale(1); 
                filter: drop-shadow(0 0 10px #333); 
            }
            25% { 
                transform: rotate(90deg) scale(1.05); 
                filter: drop-shadow(-25px 0 15px rgba(255,0,255,0.5)); 
            }
            50% { 
                transform: rotate(180deg) scale(1); 
                filter: drop-shadow(0 25px 15px rgba(0,255,255,0.5)); 
            }
            75% { 
                transform: rotate(270deg) scale(1.05); 
                filter: drop-shadow(25px 0 15px rgba(255,255,0,0.5)); 
            }
            100% { 
                transform: rotate(360deg) scale(1); 
                filter: drop-shadow(0 0 10px #333); 
            }
        }

        .prosciutto::before,
        .prosciutto::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 250px;
            height: 250px;
            background-image: url('https://hypixel.net/attachments/image01-gif.1807111/');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            opacity: 0.2;
            z-index: -1;
            animation: spinShadow 4s infinite linear;
        }

        .prosciutto::before {
            animation-delay: -1s;
            opacity: 0.15;
        }

        .prosciutto::after {
            animation-delay: -2s;
            opacity: 0.1;
        }

        @keyframes spinShadow {
            0% { transform: rotate(0deg) scale(1.3); opacity: 0.2; }
            25% { transform: rotate(90deg) scale(1.2); opacity: 0.15; }
            50% { transform: rotate(180deg) scale(1.4); opacity: 0.2; }
            75% { transform: rotate(270deg) scale(1.2); opacity: 0.15; }
            100% { transform: rotate(360deg) scale(1.3); opacity: 0.2; }
        }

        .floating-beetles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .floating-beetle {
            position: absolute;
            font-size: 2rem;
            opacity: 0.3;
            animation: float 10s infinite linear;
        }

        @keyframes float {
            from {
                transform: translateX(-100px) rotate(0deg);
            }
            to {
                transform: translateX(calc(100vw + 100px)) rotate(720deg);
            }
        }

        .easter-egg {
            position: fixed;
            bottom: 20px;
            right: 20px;
            font-size: 2rem;
            cursor: pointer;
            animation: secret-pulse 3s infinite;
            opacity: 0.3;
            transition: all 0.3s;
        }

        .easter-egg:hover {
            opacity: 1;
            transform: scale(1.5) rotate(360deg);
        }
        
        .mode-countdown {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(45deg, #ff0066, #ff3399);
            color: white;
            border: 3px solid white;
            padding: 10px 15px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 10px;
            font-family: 'Comic Sans MS', cursive;
            text-shadow: 2px 2px 0px black;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            z-index: 2000;
            display: none;
            animation: countdown-pulse 1s infinite;
        }
        
        .mode-countdown.visible {
            display: block;
        }
        
        .mode-countdown.party {
            background: linear-gradient(45deg, #ff0066, #ff3399);
        }
        
        .mode-countdown.disco {
            background: linear-gradient(45deg, #ff00ff, #00ffff);
        }
        
        .mode-countdown.matrix {
            background: linear-gradient(45deg, #000000, #00ff00);
            color: #00ff00;
        }
        
        .mode-countdown.earthquake {
            background: linear-gradient(45deg, #8B4513, #D2691E);
        }
        
        .mode-countdown.beetle2000 {
            background: linear-gradient(45deg, #ff00ff, #ffff00);
        }
        
        .mode-countdown.temple {
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: black;
        }
        
        .mode-countdown.blessing {
            background: linear-gradient(45deg, #FFFFFF, #FFD700);
            color: black;
        }
        
        .mode-countdown.spiral {
            background: linear-gradient(45deg, #FFD700, #FF8C00);
            color: black;
        }
        
        .mode-countdown.temple-blessing {
            background: linear-gradient(45deg, #FFD700, #FFFFFF);
            color: black;
        }
        
        .mode-countdown.masonic {
            background: linear-gradient(45deg, #000000, #FFD700);
            color: #FFD700;
        }
        
        .mode-countdown.lightning {
            background: linear-gradient(45deg, #FFFF00, #FF6600);
            color: black;
        }
        
        .mode-countdown.fibonacci {
            background: linear-gradient(45deg, #FFD700, #FF8C00);
            color: black;
        }
        
        .mode-countdown.illuminati {
            background: linear-gradient(45deg, #000000, #00FF00);
            color: #00FF00;
        }
        
        @keyframes countdown-pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
            50% { transform: scale(1.05); box-shadow: 0 8px 25px rgba(255,0,100,0.5); }
        }
        

        @keyframes secret-pulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        .retro-text {
            position: fixed;
            top: 10px;
            left: 10px;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            opacity: 0.7;
            text-shadow: 0 0 5px #00ff00;
            animation: matrix-flicker 2s infinite;
        }

        @keyframes matrix-flicker {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 0.3; }
        }

        .party-mode {
            animation: party-flash 0.1s infinite !important;
        }

        @keyframes party-flash {
            0% { background-color: #ff0000; }
            16.66% { background-color: #ff8800; }
            33.33% { background-color: #ffff00; }
            50% { background-color: #00ff00; }
            66.66% { background-color: #0088ff; }
            83.33% { background-color: #8800ff; }
            100% { background-color: #ff0088; }
        }

        /* Beetle Clicker Styles */
        .beetle-clicker-panel {
            position: fixed;
            right: -350px;
            top: 50%;
            transform: translateY(-50%);
            width: 350px;
            height: 80vh;
            background: linear-gradient(135deg, rgba(0,0,0,0.95), rgba(50,0,50,0.95));
            border: 3px solid #FFD700;
            border-radius: 15px 0 0 15px;
            padding: 0;
            box-shadow: -5px 0 20px rgba(0,0,0,0.5);
            transition: right 0.5s ease;
            z-index: 1000;
            font-family: 'Comic Sans MS', cursive;
            display: flex;
            flex-direction: column;
        }
        
        .beetle-clicker-panel.open {
            right: 0;
        }
        
        .clicker-toggle {
            position: absolute;
            left: -160px;
            top: 50%;
            transform: translateY(-50%) rotate(-90deg);
            background: linear-gradient(45deg, #FFD700, #FFA500);
            color: black;
            padding: 12px 25px;
            border-radius: 10px 10px 0 0;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.9rem;
            border: 2px solid white;
            box-shadow: 0 0 15px rgba(255,215,0,0.8);
            transition: all 0.3s;
            white-space: nowrap;
            animation: toggle-pulse 3s ease-in-out infinite;
            z-index: 2000;
        }
        
        .clicker-toggle:hover {
            background: linear-gradient(45deg, #FFA500, #FF8C00);
            transform: translateY(-50%) rotate(-90deg) scale(1.1);
        }
        
        @keyframes toggle-pulse {
            0%, 100% { 
                box-shadow: 0 0 15px rgba(255,215,0,0.8);
                left: -160px;
            }
            50% { 
                box-shadow: 0 0 25px rgba(255,215,0,1);
                left: -150px;
            }
        }
        
        .clicker-header {
            padding: 20px 20px 0 20px;
            flex-shrink: 0;
        }
        
        .clicker-header h3 {
            color: #FFD700;
            text-align: center;
            margin: 0 0 15px 0;
            text-shadow: 2px 2px 0px black;
        }
        
        .beetle-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .stat {
            background: rgba(255,255,255,0.1);
            padding: 8px 12px;
            border-radius: 8px;
            border: 1px solid #FFD700;
        }
        
        .stat-label {
            color: #FFD700;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .stat-value {
            color: white;
            font-size: 1.1rem;
            font-weight: bold;
            margin-left: 5px;
        }
        
        .clicker-fixed-section {
            padding: 0 20px 20px 20px;
            flex-shrink: 0;
            border-bottom: 2px solid #FFD700;
            margin-bottom: 20px;
        }
        
        .main-beetle-clicker {
            text-align: center;
            margin: 20px 0 0 0;
            cursor: pointer;
            background: radial-gradient(circle, rgba(255,215,0,0.3), transparent);
            border-radius: 20px;
            padding: 20px;
            border: 2px dashed #FFD700;
            transition: all 0.2s;
        }
        
        .main-beetle-clicker:hover {
            background: radial-gradient(circle, rgba(255,215,0,0.5), transparent);
            transform: scale(1.05);
        }
        
        .main-beetle-clicker:active {
            transform: scale(0.95);
        }
        
        .giant-beetle {
            font-size: 4rem;
            animation: beetle-idle 2s ease-in-out infinite;
        }
        
        @keyframes beetle-idle {
            0%, 100% { transform: scale(1) rotate(-2deg); }
            50% { transform: scale(1.1) rotate(2deg); }
        }
        
        .click-text {
            color: #FFD700;
            font-weight: bold;
            margin-top: 10px;
            text-shadow: 2px 2px 0px black;
        }
        
        .clicker-scrollable-section {
            flex: 1;
            overflow-y: auto;
            padding: 0 20px 20px 20px;
        }
        
        .upgrades-section h4, .achievements-section h4 {
            color: #FFD700;
            margin: 0 0 10px 0;
            text-shadow: 2px 2px 0px black;
        }
        
        .upgrade-grid {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .upgrade {
            display: flex;
            background: rgba(255,255,255,0.1);
            border: 2px solid #666;
            border-radius: 10px;
            padding: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .upgrade:hover {
            border-color: #FFD700;
            background: rgba(255,215,0,0.1);
        }
        
        .upgrade.affordable {
            border-color: #00FF00;
            background: rgba(0,255,0,0.1);
        }
        
        .upgrade.affordable:hover {
            background: rgba(0,255,0,0.2);
        }
        
        .upgrade.maxed {
            border-color: #666;
            background: rgba(100,100,100,0.2);
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .upgrade.maxed .upgrade-cost {
            color: #888;
        }
        
        .upgrade-icon {
            font-size: 2rem;
            margin-right: 10px;
            display: flex;
            align-items: center;
        }
        
        .upgrade-info {
            flex: 1;
        }
        
        .upgrade-name {
            color: #FFD700;
            font-weight: bold;
            font-size: 0.9rem;
        }
        
        .upgrade-desc {
            color: #CCC;
            font-size: 0.8rem;
            margin: 2px 0;
        }
        
        .upgrade-cost {
            color: #FF6B6B;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .upgrade-owned {
            color: #4ECDC4;
            font-size: 0.8rem;
        }
        
        .achievement-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
        }
        
        .achievement {
            background: rgba(255,255,255,0.1);
            border: 2px solid #666;
            border-radius: 8px;
            padding: 8px;
            text-align: center;
            font-size: 0.7rem;
            transition: all 0.3s;
        }
        
        .achievement.unlocked {
            border-color: #FFD700;
            background: rgba(255,215,0,0.2);
            color: #FFD700;
        }
        
        .achievement-icon {
            font-size: 1.5rem;
            margin-bottom: 4px;
        }
        
        .beetle-click-effect {
            position: absolute;
            pointer-events: none;
            font-size: 2rem;
            color: #FFD700;
            font-weight: bold;
            text-shadow: 2px 2px 0px black;
            animation: click-float 1s ease-out forwards;
            z-index: 1001;
        }
        
        @keyframes click-float {
            0% { opacity: 1; transform: translateY(0) scale(1); }
            100% { opacity: 0; transform: translateY(-50px) scale(1.5); }
        }
        
        /* Buy Me a Coffee Button */
        .donate-button {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
        }
        
        .coffee-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(45deg, #FF813F, #FF6B35);
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            text-decoration: none;
            font-family: 'Comic Sans MS', cursive;
            font-weight: bold;
            font-size: 1rem;
            border: 3px solid white;
            box-shadow: 
                0 5px 15px rgba(255, 129, 63, 0.4),
                0 0 20px rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            animation: coffee-pulse 3s ease-in-out infinite;
        }
        
        .coffee-btn:hover {
            background: linear-gradient(45deg, #FF6B35, #FF813F);
            transform: translateY(-3px) scale(1.05);
            box-shadow: 
                0 8px 25px rgba(255, 129, 63, 0.6),
                0 0 30px rgba(255, 255, 255, 0.4);
        }
        
        .coffee-btn:active {
            transform: translateY(-1px) scale(1.02);
        }
        
        .coffee-icon {
            font-size: 1.2rem;
            animation: coffee-steam 2s ease-in-out infinite;
        }
        
        .coffee-text {
            text-shadow: 2px 2px 0px rgba(0,0,0,0.3);
        }
        
        .beetle-thanks {
            font-size: 0.9rem;
            animation: beetle-wiggle 1.5s ease-in-out infinite;
        }
        
        @keyframes coffee-pulse {
            0%, 100% { 
                box-shadow: 
                    0 5px 15px rgba(255, 129, 63, 0.4),
                    0 0 20px rgba(255, 255, 255, 0.2);
            }
            50% { 
                box-shadow: 
                    0 5px 15px rgba(255, 129, 63, 0.6),
                    0 0 30px rgba(255, 255, 255, 0.4);
            }
        }
        
        @keyframes coffee-steam {
            0%, 100% { transform: translateY(0) rotate(-2deg); }
            50% { transform: translateY(-2px) rotate(2deg); }
        }
        
        @keyframes beetle-wiggle {
            0%, 100% { transform: rotate(-5deg) scale(1); }
            50% { transform: rotate(5deg) scale(1.1); }
        }

        @media (max-width: 768px) {
            .title { font-size: 3rem; }
            .beetle { font-size: 5rem; }
            .beetle img { width: 150px; height: 150px; }
            .beetles-container { height: 350px; }
            .music-bar { 
                flex-direction: column; 
                gap: 15px; 
                padding: 15px 20px; 
            }
            .beetle-clicker-panel {
                width: 300px;
                right: -300px;
            }
            .coffee-btn {
                font-size: 0.9rem;
                padding: 10px 16px;
            }
        }
    </style>
</head>
<body>
    <div class="retro-text">
        BEETLE.EXE v2.0.3<br>
        STATUS: VIBING<br>
        BUGS: FEATURE<br>
        <span style="opacity: 0.3; font-size: 0.6rem;">ORDO AB CHAO</span>
    </div>
    
    <!-- Sacred Time Display -->
    <div class="sacred-clock" id="sacredClock" onclick="toggleClockMode()">
        <div class="clock-time" id="clockTime">00:00:00</div>
        <div class="clock-label">SACRED TIME</div>
    </div>
    
    <!-- Secret Guide -->
    <div style="position: fixed; bottom: 10px; left: 10px; color: #00ff00; font-family: 'Courier New', monospace; font-size: 0.7rem; opacity: 0.4; text-shadow: 0 0 5px #00ff00; line-height: 1.2; max-width: 250px;">
        HIDDEN MYSTERIES AWAIT...<br>
        <span style="opacity: 0.6;">• Click beetles rapidly (5x) for party</span><br>
        <span style="opacity: 0.6;">• Ctrl+D = Disco, Ctrl+M = Matrix</span><br>
        <span style="opacity: 0.6;">• Ctrl+E = Earthquake, Ctrl+Y = Y2K</span><br>
        <span style="opacity: 0.6;">• G = Grangus disco, D = Deet prism, P = Mega Prosciutto</span><br>
        <span style="opacity: 0.6;">• B = Beetle invasion, Shift+Space = Speed</span><br>
        <span style="opacity: 0.6;">• Konami code (↑↑↓↓←→←→BA)</span><br>
        <span style="opacity: 0.6;">• Watch clock at 11:11, 23:23, 33:33</span><br>
        <span style="opacity: 0.5; font-size: 0.6rem;">SEEK THE TRIANGLE AND THE EYE</span><br>
        <span style="opacity: 0.4; font-size: 0.55rem; color: #ffff00;">Sacred words: god, jesus, temple, spiral, earthquake</span><br>
        <span style="opacity: 0.4; font-size: 0.55rem; color: #00ffff;">Sacred numbers: 23, 33, 77, 144, 777, 1111</span>
    </div>

    <div class="floating-beetles" id="floatingBeetles"></div>
    
    <h1 class="title">🪳 BETTER BEETLE BONANZA 🪳</h1>
    <div class="subtitle">★ BEETLE RAVE SUPREME ★ <span style="opacity: 0.2; font-size: 0.8rem;">∴∵∴</span></div>
    
    <div class="music-bar">
        <!-- Lab Icon (appears when lab is purchased) -->
        <div class="upgrade-icon-display lab-icon" id="labIcon" onclick="clickUpgradeIcon('lab')">🧪</div>
        
        <button class="play-button" onclick="toggleMusic()">▶ PLAY</button>
        <div class="volume-control">
            <span class="volume-label">🔊 VOL:</span>
            <input type="range" class="volume-slider" min="0" max="100" value="50" oninput="setVolume(this.value)">
        </div>
        <audio id="bgMusic" loop>
            <source src="https://raw.githubusercontent.com/beetlebabe/beetlebabe.github.io/main/dirtbag.mp3" type="audio/mpeg">
        </audio>
        
        <!-- Portal Icon (appears when portal is purchased) -->
        <div class="upgrade-icon-display portal-icon" id="portalIcon" onclick="clickUpgradeIcon('portal')">🌀</div>
    </div>
    
    <p class="instruction-text">★ Click play for MAXIMUM beetle experience ★</p>
    
    <!-- Typewriter Display for Sacred Words -->
    <div class="typewriter-display" id="typewriterDisplay"></div>
    
    <div class="beetles-container">
        <div class="beetle grangus" onclick="beetleClick('grangus')">
            <img src="https://media.tenor.com/CDFSTMzCc2oAAAAi/roach-cowboy.gif" alt="Grangus Grumby - Cowboy Roach">
            <div class="beetle-name">GRANGUS GRUMBY</div>
        </div>
        
        <div class="beetle deet" onclick="beetleClick('deet')">
            <img src="https://img1.picmix.com/output/stamp/normal/9/8/0/1/2161089_e910a.gif" alt="Deet Glorious - Glittery Beetle">
            <div class="beetle-name">DEET GLORIOUS</div>
        </div>
        
        <div class="beetle prosciutto" onclick="beetleClick('prosciutto')">
            <img src="https://hypixel.net/attachments/image01-gif.1807111/" alt="Prosciutto - Spinning Beetle">
            <div class="beetle-name">PROSCIUTTO</div>
        </div>
    </div>

    <div class="easter-egg" onclick="activatePartyMode()" title="Secret party mode!">🎉</div>
    
    <!-- Universal Mode Countdown Timer -->
    <div class="mode-countdown" id="modeCountdown">
        🎉 PARTY: 30s
    </div>
    
    
    <!-- Buy Me a Coffee Donate Button -->
    <div class="donate-button">
        <a href="https://www.buymeacoffee.com/loftusa" target="_blank" class="coffee-btn">
            <span class="coffee-icon">☕</span>
            <span class="coffee-text">Buy Me a Coffee</span>
            <span class="beetle-thanks">🪳✨</span>
        </a>
    </div>
    
    <!-- Beetle Clicker Game Panel -->
    <div class="beetle-clicker-panel" id="beetleClicker">
        <div class="clicker-header">
            <h3>🪳 BEETLE EMPIRE 🪳</h3>
            <div class="beetle-stats">
                <div class="stat">
                    <span class="stat-label">Beetles:</span>
                    <span class="stat-value" id="beetleCount">0</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Per Second:</span>
                    <span class="stat-value" id="beetlePerSec">0</span>
                </div>
            </div>
        </div>
        
        <div class="clicker-fixed-section">
            <div class="main-beetle-clicker" onclick="clickBeetle()">
                <div class="giant-beetle">🪳</div>
                <div class="click-text">CLICK FOR BEETLES!</div>
            </div>
        </div>
        
        <div class="clicker-scrollable-section">
            <div class="upgrades-section">
                <h4>🏭 BEETLE PRODUCTION</h4>
                <div class="upgrade-grid">
                <div class="upgrade" id="upgrade-cursor" onclick="buyUpgrade('cursor')">
                    <div class="upgrade-icon">👆</div>
                    <div class="upgrade-info">
                        <div class="upgrade-name">Beetle Cursor</div>
                        <div class="upgrade-desc">Auto-clicks beetles (+0.1/sec)</div>
                        <div class="upgrade-cost">Cost: <span id="cursor-cost">15</span></div>
                        <div class="upgrade-owned">Owned: <span id="cursor-owned">0</span></div>
                    </div>
                </div>
                
                <div class="upgrade" id="upgrade-clickpower" onclick="buyUpgrade('clickpower')">
                    <div class="upgrade-icon">💪</div>
                    <div class="upgrade-info">
                        <div class="upgrade-name">Beetle Power</div>
                        <div class="upgrade-desc">+1 beetle per click</div>
                        <div class="upgrade-cost">Cost: <span id="clickpower-cost">50</span></div>
                        <div class="upgrade-owned">Owned: <span id="clickpower-owned">0</span></div>
                    </div>
                </div>
                
                <div class="upgrade" id="upgrade-farm" onclick="buyUpgrade('farm')">
                    <div class="upgrade-icon">🌱</div>
                    <div class="upgrade-info">
                        <div class="upgrade-name">Beetle Farm</div>
                        <div class="upgrade-desc">Grows beetles naturally (+1/sec)</div>
                        <div class="upgrade-cost">Cost: <span id="farm-cost">100</span></div>
                        <div class="upgrade-owned">Owned: <span id="farm-owned">0</span></div>
                    </div>
                </div>
                
                <div class="upgrade" id="upgrade-mine" onclick="buyUpgrade('mine')">
                    <div class="upgrade-icon">⛏️</div>
                    <div class="upgrade-info">
                        <div class="upgrade-name">Beetle Mine</div>
                        <div class="upgrade-desc">Digs up rare beetles (+8/sec)</div>
                        <div class="upgrade-cost">Cost: <span id="mine-cost">1100</span></div>
                        <div class="upgrade-owned">Owned: <span id="mine-owned">0</span></div>
                    </div>
                </div>
                
                <div class="upgrade" id="upgrade-lab" onclick="buyUpgrade('lab')">
                    <div class="upgrade-icon">🧪</div>
                    <div class="upgrade-info">
                        <div class="upgrade-name">Beetle Lab</div>
                        <div class="upgrade-desc">Creates synthetic beetles (+47/sec)</div>
                        <div class="upgrade-cost">Cost: <span id="lab-cost">10000</span></div>
                        <div class="upgrade-owned">Owned: <span id="lab-owned">0</span></div>
                    </div>
                </div>
                
                <div class="upgrade" id="upgrade-portal" onclick="buyUpgrade('portal')">
                    <div class="upgrade-icon">🌀</div>
                    <div class="upgrade-info">
                        <div class="upgrade-name">Beetle Portal</div>
                        <div class="upgrade-desc">Summons interdimensional beetles (+260/sec)</div>
                        <div class="upgrade-cost">Cost: <span id="portal-cost">100000</span></div>
                        <div class="upgrade-owned">Owned: <span id="portal-owned">0</span></div>
                    </div>
                </div>
                
                <div class="upgrade" id="upgrade-temple" onclick="buyUpgrade('temple')">
                    <div class="upgrade-icon">🏛️</div>
                    <div class="upgrade-info">
                        <div class="upgrade-name">Beetle Temple</div>
                        <div class="upgrade-desc">Worships the Beetle Gods (+1400/sec)</div>
                        <div class="upgrade-cost">Cost: <span id="temple-cost">1400000</span></div>
                        <div class="upgrade-owned">Owned: <span id="temple-owned">0</span></div>
                    </div>
                </div>
                
                <div class="upgrade" id="upgrade-heaven" onclick="buyUpgrade('heaven')">
                    <div class="upgrade-icon">👑</div>
                    <div class="upgrade-info">
                        <div class="upgrade-name">Beetle Heaven</div>
                        <div class="upgrade-desc">Ascends to divine realm (+10000/sec)</div>
                        <div class="upgrade-cost">Cost: <span id="heaven-cost">50000000</span></div>
                        <div class="upgrade-owned">Owned: <span id="heaven-owned">0</span></div>
                    </div>
                </div>
            </div>
        </div>
        
            <div class="achievements-section">
                <h4>🏆 ACHIEVEMENTS</h4>
                <div class="achievement-grid" id="achievementGrid">
                    <!-- Achievements will be populated by JavaScript -->
                </div>
            </div>
        </div>
        
        <div class="clicker-toggle" onclick="toggleClicker()">
            <span id="toggleText">📱 OPEN BEETLE EMPIRE</span>
        </div>
    </div>
    
    <!-- Hidden mysteries scattered throughout -->
    <div style="position: fixed; top: 33%; right: 3px; opacity: 0.05; font-size: 8px; writing-mode: vertical-rl; color: white;">SOLVE ET COAGULA</div>
    <div style="position: fixed; bottom: 33%; left: 3px; opacity: 0.05; font-size: 8px; writing-mode: vertical-lr; color: white;">AS ABOVE SO BELOW</div>
    <div style="position: fixed; top: 77px; left: 77px; opacity: 0.03; font-size: 6px; color: white;">⊹ ࿇ ⊹</div>
    <div style="position: fixed; bottom: 144px; right: 144px; opacity: 0.03; font-size: 6px; color: white;">∞ ϧ ∞</div>

    <script>
        let isPlaying = false;
        const music = document.getElementById('bgMusic');
        const playButton = document.querySelector('.play-button');
        let partyMode = false;
        let clickCount = 0;
        
        // Rapid click system for party mode
        let rapidClickCount = 0;
        let lastClickTime = 0;
        let rapidClickTimeout = null;
        
        // Sacred Clock System
        let clockManipulationMode = false;
        let fakeTime = null;
        let clockInterval = null;

        // Create floating beetles
        function createFloatingBeetles() {
            const container = document.getElementById('floatingBeetles');
            const beetles = ['🪳', '🐛', '🦗', '🪲', '🐞'];
            
            setInterval(() => {
                const beetle = document.createElement('div');
                beetle.className = 'floating-beetle';
                beetle.textContent = beetles[Math.floor(Math.random() * beetles.length)];
                beetle.style.top = Math.random() * 100 + '%';
                beetle.style.animationDuration = (Math.random() * 15 + 10) + 's';
                beetle.style.animationDelay = Math.random() * 2 + 's';
                container.appendChild(beetle);
                
                setTimeout(() => {
                    if (beetle && beetle.parentNode) {
                        beetle.parentNode.removeChild(beetle);
                    }
                }, 25000);
            }, 3000);
        }

        // Audio setup
        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        let masterGain = audioContext.createGain();
        masterGain.connect(audioContext.destination);
        masterGain.gain.value = 0.5;

        function createTone(frequency, duration, startTime) {
            const oscillator = audioContext.createOscillator();
            const gainNode = audioContext.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(masterGain);
            
            oscillator.frequency.setValueAtTime(frequency, startTime);
            oscillator.type = 'square';
            
            gainNode.gain.setValueAtTime(0, startTime);
            gainNode.gain.linearRampToValueAtTime(0.1, startTime + 0.01);
            gainNode.gain.linearRampToValueAtTime(0.05, startTime + duration - 0.01);
            gainNode.gain.linearRampToValueAtTime(0, startTime + duration);
            
            oscillator.start(startTime);
            oscillator.stop(startTime + duration);
            
            return oscillator;
        }

        function playTeenageDirtbagMelody() {
            if (!isPlaying) return;
            
            const now = audioContext.currentTime;
            const beatDuration = 0.4;
            
            const melody = [
                {freq: 293.66, duration: beatDuration}, // D4
                {freq: 329.63, duration: beatDuration}, // E4
                {freq: 369.99, duration: beatDuration}, // F#4
                {freq: 329.63, duration: beatDuration}, // E4
                {freq: 293.66, duration: beatDuration * 2}, // D4
                {freq: 246.94, duration: beatDuration}, // B3
                {freq: 293.66, duration: beatDuration}, // D4
                {freq: 329.63, duration: beatDuration * 2}, // E4
            ];
            
            let currentTime = now;
            melody.forEach(note => {
                createTone(note.freq, note.duration, currentTime);
                currentTime += note.duration;
            });
            
            setTimeout(() => {
                if (isPlaying) playTeenageDirtbagMelody();
            }, (currentTime - now) * 1000);
        }

        function toggleMusic() {
            if (!isPlaying) {
                isPlaying = true;
                playButton.innerHTML = '⏸ STOP';
                playButton.style.background = 'linear-gradient(45deg, #006600, #00aa00)';
                
                music.play().catch(() => {
                    console.log('Audio file failed, using synthesized version');
                    if (audioContext.state === 'suspended') {
                        audioContext.resume();
                    }
                    playTeenageDirtbagMelody();
                });
            } else {
                isPlaying = false;
                playButton.innerHTML = '▶ PLAY';
                playButton.style.background = 'linear-gradient(45deg, #ff0066, #ff3399)';
                music.pause();
                music.currentTime = 0;
                
                if (audioContext) {
                    audioContext.suspend();
                }
            }
        }

        function setVolume(value) {
            const volume = value / 100;
            music.volume = volume;
            
            if (masterGain) {
                masterGain.gain.value = volume;
            }
        }

        function beetleClick(beetleName) {
            const currentTime = Date.now();
            const beetle = document.querySelector(`.${beetleName}`);
            const messages = {
                'grangus': ['*CRONCH*', 'yeehaw partner!', 'giddy up!', '*tips hat*'],
                'deet': ['*rolling intensifies*', 'GLORIOUS!', '*shiny*', 'dung life!'],
                'prosciutto': ['*spins faster*', 'ciao bella!', '*leaves trail*', 'mama mia!']
            };
            
            // Flash effect
            beetle.style.filter = 'brightness(2) saturate(2)';
            setTimeout(() => {
                beetle.style.filter = '';
            }, 200);
            
            // 10% chance to show educational hints about secrets
            if (Math.random() < 0.1) {
                const secretHints = [
                    // Keyboard shortcuts
                    'psst... try holding Ctrl and pressing D',
                    'the letter G does something special...',
                    'P makes me grow huge!',
                    'B summons my cousins from the void',
                    'Shift+Space makes everything FAST',
                    'what happens if you press ↑↑↓↓←→←→BA?',
                    
                    // Sacred words
                    'whisper the name of the divine one...',
                    'speak of the savior and be blessed',
                    'the sacred building holds great power',
                    'the golden ratio hides in spiraling forms',
                    
                    // Time-based secrets
                    'at 11:11, the universe aligns',
                    'when minutes match seconds, magic happens',
                    'sacred numbers: 23, 33... when do they appear?',
                    
                    // Click-based secrets
                    'click us rapidly and feel the party!',
                    'click the sparkly things for surprises',
                    'the empire to the right holds riches',
                    
                    // Hidden elements
                    'inspect the source, young padawan',
                    'the console speaks to those who listen',
                    'hidden symbols lurk in the shadows',
                    'triangles and eyes watch from above',
                    
                    // Game mechanics
                    'when you build the temple, reality changes',
                    'upgrade icons can be clicked for fun',
                    'the bottom corner holds ancient wisdom',
                    
                    // Easter eggs
                    'combine Ctrl with letters for magic',
                    'the sacred dance requires 5 quick taps',
                    'coffee supports the beetle cause',
                    'fibonacci sequences unlock mysteries'
                ];
                
                const hint = secretHints[Math.floor(Math.random() * secretHints.length)];
                showMessage(`💡 ${hint}`, beetle);
            } else {
                // Normal random message
                const message = messages[beetleName][Math.floor(Math.random() * messages[beetleName].length)];
                showMessage(message, beetle);
            }
            
            // Rapid click system for party mode activation
            if (currentTime - lastClickTime < 800) { // If clicked within 800ms of last click
                rapidClickCount++;
                
                // Clear previous timeout
                if (rapidClickTimeout) {
                    clearTimeout(rapidClickTimeout);
                }
                
                // Visual feedback for rapid clicking
                if (rapidClickCount >= 2) {
                    beetle.style.transform = 'scale(1.2)';
                    setTimeout(() => {
                        beetle.style.transform = '';
                    }, 100);
                }
                
                // Show rapid click progress
                if (rapidClickCount >= 3) {
                    showMessage(`🔥 RAPID CLICKS: ${rapidClickCount}/5! 🔥`, beetle);
                }
                
                // Activate party mode after 5 rapid clicks
                if (rapidClickCount >= 5 && !partyMode) {
                    rapidClickCount = 0;
                    showMessage('🎉 SPEED CLICK PARTY MODE! 🎉');
                    setTimeout(() => activatePartyMode(), 500);
                    return;
                }
            } else {
                // Reset rapid click counter if too much time has passed
                rapidClickCount = 1;
            }
            
            lastClickTime = currentTime;
            
            // Set timeout to reset rapid clicking after 2 seconds of inactivity
            if (rapidClickTimeout) {
                clearTimeout(rapidClickTimeout);
            }
            rapidClickTimeout = setTimeout(() => {
                rapidClickCount = 0;
            }, 2000);
        }

        function showMessage(text, beetle = null) {
            const msg = document.createElement('div');
            msg.textContent = text;
            
            let positionStyle = '';
            if (beetle) {
                // Position above the clicked beetle
                const rect = beetle.getBoundingClientRect();
                positionStyle = `
                    position: fixed;
                    left: ${rect.left + rect.width/2}px;
                    top: ${rect.top - 20}px;
                    transform: translateX(-50%);
                `;
            } else {
                // Default center position for other messages
                positionStyle = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                `;
            }
            
            msg.style.cssText = `
                ${positionStyle}
                background: rgba(0,0,0,0.9);
                color: #ff00ff;
                padding: 10px 20px;
                border-radius: 15px;
                border: 2px solid white;
                font-size: 1.5rem;
                font-weight: bold;
                z-index: 1000;
                animation: message-pop 2s ease-out forwards;
                pointer-events: none;
                text-shadow: 2px 2px 0px black;
            `;
            
            document.body.appendChild(msg);
            setTimeout(() => {
                if (msg && msg.parentNode) {
                    msg.parentNode.removeChild(msg);
                }
            }, 2000);
        }

        // Universal mode countdown system
        let modeCountdownInterval = null;
        let modeTimeRemaining = 0;
        let currentMode = null;
        
        function startModeCountdown(modeName, duration, emoji, stopCallback) {
            // Stop any existing countdown
            if (modeCountdownInterval) {
                clearInterval(modeCountdownInterval);
            }
            
            currentMode = modeName;
            modeTimeRemaining = duration;
            const countdown = document.getElementById('modeCountdown');
            
            // Set the appropriate style for this mode
            countdown.className = `mode-countdown ${modeName} visible`;
            
            // Update display immediately
            updateModeCountdownDisplay(emoji, modeName.toUpperCase());
            
            // Start countdown timer
            modeCountdownInterval = setInterval(() => {
                modeTimeRemaining--;
                updateModeCountdownDisplay(emoji, modeName.toUpperCase());
                
                if (modeTimeRemaining <= 0) {
                    stopModeCountdown();
                    if (stopCallback) stopCallback();
                }
            }, 1000);
        }
        
        function updateModeCountdownDisplay(emoji, modeName) {
            const countdown = document.getElementById('modeCountdown');
            countdown.textContent = `${emoji} ${modeName}: ${modeTimeRemaining}s`;
            
            // Change style as time runs out
            if (modeTimeRemaining <= 3) {
                countdown.style.background = 'linear-gradient(45deg, #ff0000, #ff6600)';
                countdown.style.animation = 'countdown-pulse 0.5s infinite';
            } else if (modeTimeRemaining <= 7) {
                countdown.style.background = 'linear-gradient(45deg, #ff6600, #ffaa00)';
            }
        }
        
        function stopModeCountdown() {
            if (modeCountdownInterval) {
                clearInterval(modeCountdownInterval);
                modeCountdownInterval = null;
            }
            
            const countdown = document.getElementById('modeCountdown');
            countdown.classList.remove('visible');
            countdown.style.background = '';
            countdown.style.animation = 'countdown-pulse 1s infinite';
            currentMode = null;
        }
        
        function activatePartyMode() {
            if (partyMode) return; // Prevent multiple activations
            
            partyMode = true;
            const body = document.body;
            
            body.classList.add('party-mode');
            showMessage('🎉 PARTY MODE ACTIVATED! 🎉');
            
            // Extra effects
            const beetles = document.querySelectorAll('.beetle');
            beetles.forEach(beetle => {
                beetle.style.animationDuration = '0.5s';
            });
            
            // Start universal countdown
            startModeCountdown('party', 30, '🎉', stopPartyMode);
        }
        
        function stopPartyMode() {
            if (!partyMode) return;
            
            partyMode = false;
            const body = document.body;
            const beetles = document.querySelectorAll('.beetle');
            
            body.classList.remove('party-mode');
            beetles.forEach(beetle => {
                beetle.style.animationDuration = '';
            });
            
            showMessage('🎉 Party mode ended');
        }
        
        // Upgrade icon click handlers
        function clickUpgradeIcon(type) {
            const iconElement = document.getElementById(`${type}Icon`);
            const messages = {
                'lab': [
                    '🧪 *bubbling sounds*', 
                    'Synthesizing beetles...', 
                    '*lab equipment whirring*', 
                    'Science in progress!',
                    'Creating synthetic beetles!'
                ],
                'portal': [
                    '🌀 *interdimensional humming*', 
                    'Portal stabilized!', 
                    '*reality bending*', 
                    'Beetles from another dimension!',
                    'The void beetles emerge!'
                ]
            };
            
            // Flash effect
            iconElement.style.filter = 'brightness(2) saturate(2) drop-shadow(0 0 30px rgba(255,255,255,1))';
            setTimeout(() => {
                iconElement.style.filter = '';
            }, 200);
            
            // Random message
            const messageList = messages[type];
            const message = messageList[Math.floor(Math.random() * messageList.length)];
            showMessage(message, iconElement);
        }

        // Initialize
        window.addEventListener('load', () => {
            music.volume = 0.5;
            createFloatingBeetles();
            
            music.addEventListener('ended', () => {
                isPlaying = false;
                playButton.innerHTML = '▶ PLAY';
                playButton.style.background = 'linear-gradient(45deg, #ff0066, #ff3399)';
            });
            
            music.addEventListener('error', (e) => {
                console.log('Audio loading error:', e);
            });

            // Add CSS for message animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes message-pop {
                    0% { 
                        transform: translate(-50%, -50%) scale(0) rotate(180deg); 
                        opacity: 0; 
                    }
                    50% { 
                        transform: translate(-50%, -50%) scale(1.2) rotate(0deg); 
                        opacity: 1; 
                    }
                    100% { 
                        transform: translate(-50%, -50%) scale(0.8) rotate(0deg); 
                        opacity: 0; 
                    }
                }
            `;
            document.head.appendChild(style);
            
            // Initialize sacred clock
            initSacredClock();
        });

        // Sacred Clock Functions
        function initSacredClock() {
            updateClock();
            clockInterval = setInterval(updateClock, 1000);
        }
        
        function updateClock() {
            const now = fakeTime || new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            
            document.getElementById('clockTime').textContent = `${hours}:${minutes}:${seconds}`;
            
            // Check for sacred times
            if (minutes === seconds && ['11', '23', '33'].includes(minutes)) {
                const clock = document.getElementById('sacredClock');
                clock.style.animation = 'clock-pulse 0.5s infinite';
                setTimeout(() => {
                    clock.style.animation = '';
                }, 2000);
            }
        }
        
        function toggleClockMode() {
            const clock = document.getElementById('sacredClock');
            
            if (!clockManipulationMode) {
                // Enter manipulation mode
                clockManipulationMode = true;
                clock.classList.add('manipulation-mode');
                clock.querySelector('.clock-label').textContent = 'TIME CONTROL';
                showMessage('⏰ TIME MANIPULATION ACTIVATED!');
                showMessage('💡 Use number keys to set time: HHMMSS format');
                
                // Enable time input mode
                enableTimeInput();
            } else {
                // Exit manipulation mode
                clockManipulationMode = false;
                clock.classList.remove('manipulation-mode');
                clock.querySelector('.clock-label').textContent = 'SACRED TIME';
                fakeTime = null;
                showMessage('⏰ Returning to normal time flow...');
                disableTimeInput();
            }
        }
        
        let timeInputBuffer = '';
        let timeInputListener = null;
        
        function enableTimeInput() {
            timeInputListener = (e) => {
                if (e.key >= '0' && e.key <= '9') {
                    timeInputBuffer += e.key;
                    
                    // Show input progress
                    const display = document.getElementById('typewriterDisplay');
                    display.textContent = `Time Input: ${timeInputBuffer}`;
                    display.classList.add('typing');
                    
                    if (timeInputBuffer.length === 6) {
                        // Check for funny easter egg numbers first
                        if (timeInputBuffer === '000069') {
                            showMessage('😏 Nice! Time is now... nice.');
                            activateNiceMode();
                            timeInputBuffer = '';
                            display.textContent = '';
                            display.classList.remove('typing');
                            return;
                        }
                        
                        if (timeInputBuffer === '000420' || timeInputBuffer === '042000') {
                            showMessage('🌿 Blaze it! Time to get groovy!');
                            activate420Mode();
                            timeInputBuffer = '';
                            display.textContent = '';
                            display.classList.remove('typing');
                            return;
                        }
                        
                        // Parse HHMMSS format
                        const hours = parseInt(timeInputBuffer.substring(0, 2));
                        const minutes = parseInt(timeInputBuffer.substring(2, 4));
                        const seconds = parseInt(timeInputBuffer.substring(4, 6));
                        
                        if (hours < 24 && minutes < 60 && seconds < 60) {
                            fakeTime = new Date();
                            fakeTime.setHours(hours, minutes, seconds);
                            showMessage(`⏰ Time set to ${hours}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`);
                        } else {
                            showMessage('⚠️ Invalid time format! Use HHMMSS (000000-235959)');
                        }
                        
                        timeInputBuffer = '';
                        display.textContent = '';
                        display.classList.remove('typing');
                    }
                } else if (e.key === 'Escape') {
                    timeInputBuffer = '';
                    const display = document.getElementById('typewriterDisplay');
                    display.textContent = '';
                    display.classList.remove('typing');
                    showMessage('⏰ Time input cancelled');
                }
            };
            
            document.addEventListener('keydown', timeInputListener);
        }
        
        function disableTimeInput() {
            if (timeInputListener) {
                document.removeEventListener('keydown', timeInputListener);
                timeInputListener = null;
            }
            timeInputBuffer = '';
            const display = document.getElementById('typewriterDisplay');
            display.textContent = '';
            display.classList.remove('typing');
        }

        // Extra retro effects
        setInterval(() => {
            const beetles = document.querySelectorAll('.beetle');
            beetles.forEach(beetle => {
                beetle.style.filter = `hue-rotate(${Math.random() * 360}deg) drop-shadow(0 0 15px rgba(255,255,255,0.5))`;
            });
        }, 2000);

        // Secret codes and keyboard shortcuts
        let konamiCode = [];
        const konamiSequence = [38,38,40,40,37,39,37,39,66,65]; // ↑↑↓↓←→←→BA
        let secretModes = {
            disco: false,
            matrix: false,
            earthquake: false,
            rainbow: false,
            beetle2000: false
        };
        
        // Random surprise events
        function triggerRandomSurprise() {
            const surprises = [
                () => { 
                    showMessage('🎲 Random beetle fact: Beetles can lift 850x their body weight!');
                    document.body.style.transform = 'rotate(1deg)';
                    setTimeout(() => document.body.style.transform = '', 3000);
                },
                () => {
                    showMessage('🌟 *magical beetle dust*');
                    createSparkleExplosion();
                },
                () => {
                    showMessage('🔊 Beetles are speaking... can you hear them?');
                    playSecretBeetleSound();
                },
                () => {
                    showMessage('🪳 A wild beetle appears!');
                    spawnFlyingBeetle();
                },
                () => {
                    showMessage('⏰ Time warp activated!');
                    document.body.style.animationDuration = '0.1s';
                    setTimeout(() => document.body.style.animationDuration = '', 5000);
                }
            ];
            
            const randomSurprise = surprises[Math.floor(Math.random() * surprises.length)];
            randomSurprise();
        }
        
        // Trigger random surprises
        setInterval(() => {
            if (Math.random() < 0.05) { // 5% chance every 10 seconds
                triggerRandomSurprise();
            }
        }, 10000);
        
        function createSparkleExplosion() {
            for (let i = 0; i < 20; i++) {
                const sparkle = document.createElement('div');
                sparkle.textContent = '✨';
                sparkle.style.cssText = `
                    position: fixed;
                    left: ${Math.random() * 100}%;
                    top: ${Math.random() * 100}%;
                    font-size: 2rem;
                    animation: sparkle-fall 3s ease-out forwards;
                    pointer-events: none;
                    z-index: 1000;
                `;
                document.body.appendChild(sparkle);
                
                setTimeout(() => {
                    if (sparkle && sparkle.parentNode) {
                        sparkle.parentNode.removeChild(sparkle);
                    }
                }, 3000);
            }
        }
        
        function playSecretBeetleSound() {
            // Create cricket/beetle sounds using Web Audio
            const sounds = [261.63, 293.66, 329.63, 349.23, 392.00]; // C, D, E, F, G
            sounds.forEach((freq, i) => {
                setTimeout(() => {
                    createTone(freq, 0.2, audioContext.currentTime);
                }, i * 200);
            });
        }
        
        function playBeetleClickSound(beetleName) {
            const sounds = {
                'grangus': () => {
                    // Cowboy beetle - deep twangy sound
                    createTone(110, 0.3, audioContext.currentTime); // Deep bass
                    createTone(220, 0.2, audioContext.currentTime + 0.1); // Twang
                },
                'deet': () => {
                    // Glorious beetle - sparkly chime sound
                    const chimes = [523.25, 659.25, 783.99]; // C5, E5, G5
                    chimes.forEach((freq, i) => {
                        createTone(freq, 0.15, audioContext.currentTime + i * 0.05);
                    });
                },
                'prosciutto': () => {
                    // Italian beetle - accordion-like sound
                    createTone(261.63, 0.2, audioContext.currentTime); // C4
                    createTone(329.63, 0.2, audioContext.currentTime + 0.1); // E4
                    createTone(392.00, 0.2, audioContext.currentTime + 0.2); // G4
                },
                'clicker': () => {
                    // Main clicker beetle - satisfying click sound
                    createTone(440, 0.15, audioContext.currentTime); // A4
                    createTone(880, 0.1, audioContext.currentTime + 0.05); // A5 - higher pitch overlay
                }
            };
            
            if (sounds[beetleName]) {
                sounds[beetleName]();
            }
        }
        
        function playPartyModeSound() {
            // Upbeat party sound
            const partyNotes = [262, 294, 330, 349, 392, 440, 494]; // C major scale
            partyNotes.forEach((freq, i) => {
                setTimeout(() => {
                    createTone(freq, 0.1, audioContext.currentTime);
                    createTone(freq * 2, 0.1, audioContext.currentTime); // Octave up
                }, i * 100);
            });
        }
        
        function playUpgradeSound() {
            // Achievement/upgrade sound
            const upgradeFreqs = [440, 554, 659, 880]; // A4, C#5, E5, A5
            upgradeFreqs.forEach((freq, i) => {
                setTimeout(() => {
                    createTone(freq, 0.2, audioContext.currentTime);
                }, i * 80);
            });
        }
        
        function playErrorSound() {
            // Error/cannot afford sound
            createTone(147, 0.3, audioContext.currentTime); // D3 - low and disappointing
            createTone(123, 0.4, audioContext.currentTime + 0.2); // B2 - even lower
        }
        
        function playMagicSound() {
            // For special effects and transformations
            const magicFreqs = [330, 415, 523, 659, 831, 1047]; // Ascending magical scale
            magicFreqs.forEach((freq, i) => {
                setTimeout(() => {
                    const osc = audioContext.createOscillator();
                    const gain = audioContext.createGain();
                    osc.connect(gain);
                    gain.connect(masterGain);
                    
                    osc.frequency.setValueAtTime(freq, audioContext.currentTime);
                    osc.type = 'triangle'; // Softer magical sound
                    
                    gain.gain.setValueAtTime(0, audioContext.currentTime);
                    gain.gain.linearRampToValueAtTime(0.05, audioContext.currentTime + 0.05);
                    gain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.5);
                    
                    osc.start(audioContext.currentTime);
                    osc.stop(audioContext.currentTime + 0.5);
                }, i * 100);
            });
        }
        
        function playDiscoSound() {
            // Funky disco beat
            const discoPattern = [262, 262, 330, 330, 392, 392, 523, 523];
            discoPattern.forEach((freq, i) => {
                setTimeout(() => {
                    createTone(freq, 0.15, audioContext.currentTime);
                    // Add bass line
                    if (i % 2 === 0) {
                        createTone(freq / 4, 0.2, audioContext.currentTime);
                    }
                }, i * 150);
            });
        }
        
        function playEarthquakeSound() {
            // Rumbling earthquake sound
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const freq = 40 + Math.random() * 60; // Very low frequencies
                    createTone(freq, 0.3, audioContext.currentTime);
                }, i * 200);
            }
        }
        
        function playJackpotSound() {
            // Casino jackpot celebration
            const jackpotMelody = [523, 659, 784, 1047, 1319, 1568, 2093]; // Rising celebration
            jackpotMelody.forEach((freq, i) => {
                setTimeout(() => {
                    createTone(freq, 0.3, audioContext.currentTime);
                    // Add sparkle overtones
                    createTone(freq * 1.5, 0.2, audioContext.currentTime + 0.1);
                }, i * 200);
            });
        }
        
        function spawnFlyingBeetle() {
            const beetle = document.createElement('div');
            beetle.textContent = '🪳';
            beetle.style.cssText = `
                position: fixed;
                left: -100px;
                top: ${Math.random() * window.innerHeight}px;
                font-size: 3rem;
                animation: fly-across 4s linear forwards;
                z-index: 1000;
                pointer-events: none;
            `;
            document.body.appendChild(beetle);
            
            setTimeout(() => {
                if (beetle && beetle.parentNode) {
                    beetle.parentNode.removeChild(beetle);
                }
            }, 4000);
        }
        
        function createPrismExplosion() {
            // Create rainbow light beams radiating from Deet
            const deetBeetle = document.querySelector('.deet');
            const rect = deetBeetle.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            // Create 8 rainbow beams
            for (let i = 0; i < 8; i++) {
                const beam = document.createElement('div');
                const angle = (i * 45); // 45 degrees apart
                const colors = ['#ff0000', '#ff8000', '#ffff00', '#00ff00', '#0080ff', '#0000ff', '#8000ff', '#ff00ff'];
                
                beam.style.cssText = `
                    position: fixed;
                    left: ${centerX}px;
                    top: ${centerY}px;
                    width: 4px;
                    height: 200px;
                    background: linear-gradient(to bottom, ${colors[i]}, transparent);
                    transform-origin: 50% 0%;
                    transform: rotate(${angle}deg);
                    animation: prism-beam 3s ease-out forwards;
                    pointer-events: none;
                    z-index: 999;
                    box-shadow: 0 0 20px ${colors[i]};
                `;
                document.body.appendChild(beam);
                
                setTimeout(() => {
                    if (beam && beam.parentNode) {
                        beam.parentNode.removeChild(beam);
                    }
                }, 3000);
            }
            
            // Create floating rainbow sparkles
            for (let i = 0; i < 25; i++) {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    const sparkleColors = ['🌈', '✨', '🔆', '💎', '⭐'];
                    sparkle.textContent = sparkleColors[Math.floor(Math.random() * sparkleColors.length)];
                    sparkle.style.cssText = `
                        position: fixed;
                        left: ${centerX + (Math.random() - 0.5) * 300}px;
                        top: ${centerY + (Math.random() - 0.5) * 300}px;
                        font-size: ${1 + Math.random() * 2}rem;
                        animation: prism-sparkle 4s ease-out forwards;
                        pointer-events: none;
                        z-index: 998;
                    `;
                    document.body.appendChild(sparkle);
                    
                    setTimeout(() => {
                        if (sparkle && sparkle.parentNode) {
                            sparkle.parentNode.removeChild(sparkle);
                        }
                    }, 4000);
                }, i * 100);
            }
            
            // Add prism CSS animations
            if (!document.getElementById('prism-animations')) {
                const prismStyle = document.createElement('style');
                prismStyle.id = 'prism-animations';
                prismStyle.textContent = `
                    @keyframes prism-beam {
                        0% { 
                            height: 0px; 
                            opacity: 0; 
                            box-shadow: 0 0 5px currentColor;
                        }
                        25% { 
                            height: 300px; 
                            opacity: 1; 
                            box-shadow: 0 0 30px currentColor;
                        }
                        75% { 
                            height: 300px; 
                            opacity: 0.8; 
                            box-shadow: 0 0 25px currentColor;
                        }
                        100% { 
                            height: 0px; 
                            opacity: 0; 
                            box-shadow: 0 0 5px currentColor;
                        }
                    }
                    @keyframes prism-sparkle {
                        0% { 
                            transform: scale(0) rotate(0deg); 
                            opacity: 0; 
                        }
                        25% { 
                            transform: scale(1.5) rotate(90deg); 
                            opacity: 1; 
                        }
                        75% { 
                            transform: scale(1) rotate(270deg); 
                            opacity: 0.8; 
                        }
                        100% { 
                            transform: scale(0) rotate(360deg); 
                            opacity: 0; 
                        }
                    }
                `;
                document.head.appendChild(prismStyle);
            }
        }
        
        // Secret transformations
        function transformBeetle(beetleName, transformation) {
            const beetle = document.querySelector(`.${beetleName} img`);
            const originalSrc = beetle.src;
            
            const transformations = {
                disco: () => {
                    beetle.style.filter = 'hue-rotate(180deg) saturate(300%) brightness(150%)';
                    beetle.style.transform = 'scale(1.2) rotate(45deg)';
                    // Play groovy disco sound for Grangus
                    playGrangusDiscoSound();
                },
                matrix: () => {
                    beetle.style.filter = 'sepia(100%) hue-rotate(90deg) saturate(200%)';
                    beetle.style.transform = 'scaleX(-1)';
                },
                rainbow: () => {
                    beetle.style.animation = 'rainbow-spin 1s infinite linear';
                    // Play magical rainbow sound for Deet
                    playDeetRainbowSound();
                },
                giant: () => {
                    beetle.style.transform = 'scale(2)';
                    beetle.style.zIndex = '1000';
                    // Play epic growth sound for Prosciutto
                    playProsciuttoGiantSound();
                },
                invisible: () => {
                    beetle.style.opacity = '0.1';
                }
            };
            
            if (transformations[transformation]) {
                // Ensure audio context is running
                if (audioContext.state === 'suspended') {
                    audioContext.resume();
                }
                
                transformations[transformation]();
                
                // Reset after 10 seconds
                setTimeout(() => {
                    beetle.style.filter = '';
                    beetle.style.transform = '';
                    beetle.style.animation = '';
                    beetle.style.opacity = '';
                    beetle.style.zIndex = '';
                }, 10000);
            }
        }
        
        // Text interaction secrets
        function initTextSecrets() {
            const title = document.querySelector('.title');
            const subtitle = document.querySelector('.subtitle');
            
            // Secret clicks on title
            let titleClicks = 0;
            title.addEventListener('click', () => {
                titleClicks++;
                if (titleClicks === 5) {
                    showMessage('🏆 Title Master Achieved!');
                    title.style.animation = 'title-mega-bounce 2s infinite';
                    setTimeout(() => title.style.animation = '', 10000);
                } else if (titleClicks === 10) {
                    showMessage('🤯 TITLE OVERLOAD!');
                    activateDiscoMode();
                }
            });
            
            // Hover secrets
            subtitle.addEventListener('mouseenter', () => {
                if (Math.random() < 0.3) {
                    subtitle.textContent = '~glitch detected~ ★ ERROR 404: BEETLES NOT FOUND ★';
                    setTimeout(() => {
                        subtitle.textContent = '~est. 2003~ ★ BEETLE RAVE SUPREME ★';
                    }, 2000);
                }
            });
        }
        
        // Special modes
        function activateDiscoMode() {
            if (secretModes.disco) return;
            secretModes.disco = true;
            
            document.body.style.animation = 'disco-flash 0.1s infinite';
            showMessage('🕺 DISCO BEETLE MODE! 🕺');
            
            startModeCountdown('disco', 15, '🕺', () => {
                document.body.style.animation = 'flashingColors 1.5s infinite';
                secretModes.disco = false;
            });
        }
        
        function activateMatrixMode() {
            if (secretModes.matrix) return;
            secretModes.matrix = true;
            
            document.body.style.filter = 'sepia(100%) hue-rotate(90deg)';
            showMessage('🔢 MATRIX BEETLE MODE 🔢');
            
            // Add falling code effect
            const matrixEffect = document.createElement('div');
            matrixEffect.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 2px,
                    rgba(0,255,0,0.1) 2px,
                    rgba(0,255,0,0.1) 4px
                );
                animation: matrix-scroll 2s linear infinite;
                pointer-events: none;
                z-index: 100;
            `;
            document.body.appendChild(matrixEffect);
            
            setTimeout(() => {
                document.body.style.filter = '';
                if (matrixEffect && matrixEffect.parentNode) {
                    matrixEffect.parentNode.removeChild(matrixEffect);
                }
                secretModes.matrix = false;
            }, 10000);
        }
        
        function activateEarthquakeMode() {
            if (secretModes.earthquake) return;
            secretModes.earthquake = true;
            
            showMessage('🌍 EARTHQUAKE MODE! 🌍');
            document.body.style.animation = 'earthquake 0.1s infinite';
            
            // Only start countdown if not already started by sacred word
            if (!currentMode || currentMode !== 'earthquake') {
                startModeCountdown('earthquake', 8, '🌍', () => {
                    document.body.style.animation = 'flashingColors 1.5s infinite';
                    secretModes.earthquake = false;
                });
            } else {
                // If countdown already started, just set the callback
                setTimeout(() => {
                    document.body.style.animation = 'flashingColors 1.5s infinite';
                    secretModes.earthquake = false;
                }, 8000);
            }
        }
        
        function activateBeetle2000Mode() {
            if (secretModes.beetle2000) return;
            secretModes.beetle2000 = true;
            
            showMessage('🚀 BEETLE 2000 MODE! 🚀');
            
            // Transform all beetles
            ['grangus', 'deet', 'prosciutto'].forEach(name => {
                transformBeetle(name, 'giant');
            });
            
            // Add Y2K effects
            document.body.style.background = 'linear-gradient(45deg, #ff00ff, #00ffff, #ffff00)';
            document.body.style.backgroundSize = '400% 400%';
            document.body.style.animation = 'y2k-gradient 2s ease infinite';
            
            setTimeout(() => {
                document.body.style.background = '';
                document.body.style.backgroundSize = '';
                document.body.style.animation = 'flashingColors 1.5s infinite';
                secretModes.beetle2000 = false;
            }, 15000);
        }
        
        // Temple Mode - SHIT GETS REAL!
        let templeMode = false;
        let originalBeetlesHTML = '';
        
        function activateTempleMode() {
            templeMode = true;
            showMessage('🏛️ BEETLE TEMPLE ACTIVATED! SHIT GETS REAL! 🏛️');
            
            // Store original beetles HTML before replacing
            const beetlesContainer = document.querySelector('.beetles-container');
            originalBeetlesHTML = beetlesContainer.innerHTML;
            
            // Replace beetles with giant temple
            beetlesContainer.innerHTML = `
                <div class="giant-temple" onclick="templeClick()">
                    <div class="temple-emoji">🏛️</div>
                    <div class="temple-name">SACRED BEETLE TEMPLE</div>
                    <div class="temple-glow"></div>
                </div>
                <div class="temple-escape-button" onclick="escapeTempleMode()">
                    <span class="escape-text">🚪 ESCAPE TEMPLE 🚪</span>
                    <span class="escape-hint">(Press ESC key)</span>
                </div>
            `;
            
            // Add temple-specific styles
            const templeStyles = document.createElement('style');
            templeStyles.id = 'temple-styles';
            templeStyles.textContent = `
                .giant-temple {
                    font-size: 8rem;
                    animation: temple-float 3s ease-in-out infinite, temple-glow 2s ease-in-out infinite alternate;
                    cursor: pointer;
                    position: relative;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    margin: 20px;
                }
                
                .temple-escape-button {
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: linear-gradient(45deg, #FF6B6B, #FF8E53);
                    color: white;
                    padding: 15px 25px;
                    border-radius: 15px;
                    cursor: pointer;
                    font-weight: bold;
                    border: 3px solid white;
                    box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
                    transition: all 0.3s ease;
                    z-index: 2000;
                    text-align: center;
                    animation: escape-pulse 2s ease-in-out infinite;
                }
                
                .temple-escape-button:hover {
                    background: linear-gradient(45deg, #FF8E53, #FF6B6B);
                    transform: scale(1.05);
                    box-shadow: 0 8px 25px rgba(255, 107, 107, 0.6);
                }
                
                .escape-text {
                    display: block;
                    font-size: 1.2rem;
                    text-shadow: 2px 2px 0px black;
                }
                
                .escape-hint {
                    display: block;
                    font-size: 0.8rem;
                    opacity: 0.8;
                    margin-top: 5px;
                }
                
                @keyframes escape-pulse {
                    0%, 100% { 
                        box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
                    }
                    50% { 
                        box-shadow: 0 5px 25px rgba(255, 107, 107, 0.8);
                    }
                }
                
                .temple-emoji {
                    font-size: 8rem;
                    filter: drop-shadow(0 0 30px rgba(255, 215, 0, 0.8));
                    transition: transform 0.3s ease;
                }
                
                .temple-name {
                    font-size: 1.5rem;
                    color: #FFD700;
                    text-shadow: 2px 2px 0px black, 0 0 20px rgba(255, 215, 0, 0.8);
                    font-weight: bold;
                    margin-top: 10px;
                    animation: temple-text-glow 1.5s ease-in-out infinite alternate;
                }
                
                .temple-glow {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    width: 200px;
                    height: 200px;
                    background: radial-gradient(circle, rgba(255, 215, 0, 0.3) 0%, transparent 70%);
                    border-radius: 50%;
                    animation: temple-glow-pulse 2s ease-in-out infinite;
                    pointer-events: none;
                    z-index: -1;
                }
                
                .giant-temple:hover .temple-emoji {
                    transform: scale(1.1) rotate(5deg);
                }
                
                @keyframes temple-float {
                    0%, 100% { transform: translateY(0px) rotate(0deg); }
                    33% { transform: translateY(-20px) rotate(2deg); }
                    66% { transform: translateY(-10px) rotate(-1deg); }
                }
                
                @keyframes temple-glow {
                    0% { filter: drop-shadow(0 0 30px rgba(255, 215, 0, 0.8)) drop-shadow(0 0 60px rgba(255, 255, 255, 0.4)); }
                    100% { filter: drop-shadow(0 0 50px rgba(255, 215, 0, 1)) drop-shadow(0 0 100px rgba(255, 255, 255, 0.6)); }
                }
                
                @keyframes temple-text-glow {
                    0% { text-shadow: 2px 2px 0px black, 0 0 20px rgba(255, 215, 0, 0.8); }
                    100% { text-shadow: 2px 2px 0px black, 0 0 40px rgba(255, 215, 0, 1), 0 0 60px rgba(255, 255, 255, 0.8); }
                }
                
                @keyframes temple-glow-pulse {
                    0% { transform: translate(-50%, -50%) scale(1); opacity: 0.3; }
                    50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.6; }
                    100% { transform: translate(-50%, -50%) scale(1); opacity: 0.3; }
                }
                
                .confetti-piece {
                    position: fixed;
                    width: 10px;
                    height: 10px;
                    z-index: 1000;
                    pointer-events: none;
                    animation: confetti-fall 3s linear forwards;
                }
                
                @keyframes confetti-fall {
                    0% {
                        transform: translateY(-100vh) rotate(0deg);
                        opacity: 1;
                    }
                    100% {
                        transform: translateY(100vh) rotate(720deg);
                        opacity: 0;
                    }
                }
            `;
            document.head.appendChild(templeStyles);
            
            // Create confetti explosion
            createConfettiExplosion();
            
            // Play cheering sound effect
            playCheeringSoundEffect();
            
            // Additional epic effects
            document.body.style.background = 'radial-gradient(circle, #1a1a2e 0%, #16213e 50%, #0f3460 100%)';
            document.body.style.backgroundAttachment = 'fixed';
            
            setTimeout(() => {
                showMessage('🌟 THE ANCIENT BEETLES HAVE AWAKENED! 🌟');
            }, 2000);
            
            setTimeout(() => {
                showMessage('⚡ DIVINE BEETLE POWER FLOWS THROUGH THE TEMPLE! ⚡');
            }, 4000);
            
            setTimeout(() => {
                showMessage('🚪 Press ESC or click the escape button to return to the beetles! 🚪');
            }, 6000);
        }
        
        function escapeTempleMode() {
            if (!templeMode) return;
            
            templeMode = false;
            
            // Restore original beetles
            const beetlesContainer = document.querySelector('.beetles-container');
            beetlesContainer.innerHTML = originalBeetlesHTML;
            
            // Remove temple styles
            const templeStyles = document.getElementById('temple-styles');
            if (templeStyles) {
                templeStyles.remove();
            }
            
            // Restore original background
            document.body.style.background = '';
            document.body.style.backgroundAttachment = '';
            
            showMessage('🪳 Welcome back to the beetles! The temple awaits your return... 🪳');
            playMagicSound(); // Play a nice escape sound
        }
        
        // Heaven Mode - DIVINE TRANSCENDENCE BEYOND ALL!
        let heavenMode = false;
        let originalBeetlesHTMLForHeaven = '';
        
        function activateHeavenMode() {
            heavenMode = true;
            showMessage('👑✨ BEETLE HEAVEN ACHIEVED! DIVINE TRANSCENDENCE! ✨👑');
            
            // Store original beetles HTML before replacing
            const beetlesContainer = document.querySelector('.beetles-container');
            originalBeetlesHTMLForHeaven = beetlesContainer.innerHTML;
            
            // Replace beetles with divine heavenly realm
            beetlesContainer.innerHTML = `
                <div class="heaven-realm" onclick="heavenClick()">
                    <div class="heaven-crown">👑</div>
                    <div class="heaven-gates">🌟✨🌟</div>
                    <div class="heaven-name">DIVINE BEETLE HEAVEN</div>
                    <div class="heaven-aura"></div>
                    <div class="heaven-wings">👼👼👼</div>
                </div>
                <div class="heaven-escape-button" onclick="escapeHeavenMode()">
                    <span class="escape-text">🌈 DESCEND FROM HEAVEN 🌈</span>
                    <span class="escape-hint">(Press CTRL+ESC)</span>
                </div>
            `;
            
            // Add heaven-specific styles
            const heavenStyles = document.createElement('style');
            heavenStyles.id = 'heaven-styles';
            heavenStyles.textContent = `
                .heaven-realm {
                    font-size: 10rem;
                    animation: heaven-float 4s ease-in-out infinite, heaven-divine-glow 3s ease-in-out infinite alternate;
                    cursor: pointer;
                    position: relative;
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    margin: 20px;
                    filter: drop-shadow(0 0 50px rgba(255, 215, 0, 1));
                }
                
                .heaven-crown {
                    font-size: 12rem;
                    animation: crown-rotation 8s linear infinite;
                    text-shadow: 0 0 100px #FFD700, 0 0 200px #FFFFFF;
                }
                
                .heaven-gates {
                    font-size: 3rem;
                    color: #FFD700;
                    margin: 10px 0;
                    animation: gates-sparkle 2s ease-in-out infinite;
                }
                
                .heaven-name {
                    font-size: 2rem;
                    color: #FFD700;
                    text-shadow: 3px 3px 0px black, 0 0 50px rgba(255, 215, 0, 1);
                    font-weight: bold;
                    margin-top: 15px;
                    animation: heaven-text-pulse 2s ease-in-out infinite alternate;
                }
                
                .heaven-wings {
                    font-size: 2rem;
                    margin-top: 10px;
                    animation: wings-flutter 1.5s ease-in-out infinite alternate;
                }
                
                .heaven-aura {
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    width: 400px;
                    height: 400px;
                    background: radial-gradient(circle, rgba(255, 215, 0, 0.4) 0%, rgba(255, 255, 255, 0.2) 50%, transparent 100%);
                    border-radius: 50%;
                    animation: heaven-aura-pulse 3s ease-in-out infinite;
                    pointer-events: none;
                    z-index: -1;
                }
                
                .heaven-escape-button {
                    position: fixed;
                    top: 20px;
                    left: 20px;
                    background: linear-gradient(45deg, #FF69B4, #FFB6C1, #FFC0CB);
                    color: white;
                    padding: 15px 25px;
                    border-radius: 20px;
                    cursor: pointer;
                    font-weight: bold;
                    border: 3px solid white;
                    box-shadow: 0 5px 15px rgba(255, 105, 180, 0.6);
                    transition: all 0.3s ease;
                    z-index: 2000;
                    text-align: center;
                    animation: heaven-escape-pulse 3s ease-in-out infinite;
                }
                
                @keyframes heaven-float {
                    0%, 100% { transform: translateY(0px) scale(1) rotate(0deg); }
                    25% { transform: translateY(-30px) scale(1.05) rotate(2deg); }
                    50% { transform: translateY(-50px) scale(1.1) rotate(0deg); }
                    75% { transform: translateY(-30px) scale(1.05) rotate(-2deg); }
                }
                
                @keyframes heaven-divine-glow {
                    0% { 
                        filter: drop-shadow(0 0 50px rgba(255, 215, 0, 1)) 
                                drop-shadow(0 0 100px rgba(255, 255, 255, 0.8)); 
                    }
                    100% { 
                        filter: drop-shadow(0 0 100px rgba(255, 215, 0, 1)) 
                                drop-shadow(0 0 200px rgba(255, 255, 255, 1)); 
                    }
                }
                
                @keyframes crown-rotation {
                    0% { transform: rotate(0deg) scale(1); }
                    25% { transform: rotate(90deg) scale(1.1); }
                    50% { transform: rotate(180deg) scale(1.2); }
                    75% { transform: rotate(270deg) scale(1.1); }
                    100% { transform: rotate(360deg) scale(1); }
                }
                
                @keyframes gates-sparkle {
                    0%, 100% { opacity: 0.8; transform: scale(1); }
                    50% { opacity: 1; transform: scale(1.2); }
                }
                
                @keyframes heaven-text-pulse {
                    0% { 
                        text-shadow: 3px 3px 0px black, 0 0 50px rgba(255, 215, 0, 1);
                        transform: scale(1);
                    }
                    100% { 
                        text-shadow: 3px 3px 0px black, 0 0 100px rgba(255, 215, 0, 1), 0 0 150px rgba(255, 255, 255, 1);
                        transform: scale(1.1);
                    }
                }
                
                @keyframes wings-flutter {
                    0% { transform: scale(1) rotate(-5deg); }
                    100% { transform: scale(1.2) rotate(5deg); }
                }
                
                @keyframes heaven-aura-pulse {
                    0% { transform: translate(-50%, -50%) scale(1); opacity: 0.4; }
                    50% { transform: translate(-50%, -50%) scale(1.3); opacity: 0.7; }
                    100% { transform: translate(-50%, -50%) scale(1); opacity: 0.4; }
                }
                
                @keyframes heaven-escape-pulse {
                    0%, 100% { 
                        box-shadow: 0 5px 15px rgba(255, 105, 180, 0.6);
                        transform: scale(1);
                    }
                    50% { 
                        box-shadow: 0 8px 30px rgba(255, 105, 180, 1);
                        transform: scale(1.05);
                    }
                }
            `;
            document.head.appendChild(heavenStyles);
            
            // Create divine light beams
            createDivineLightShow();
            
            // Play heavenly chorus sound
            playHeavenlyChorus();
            
            // Transform background to heavenly realm
            document.body.style.background = 'radial-gradient(ellipse at center, #87CEEB 0%, #E6E6FA 25%, #F0F8FF 50%, #FFD700 75%, #FFFFFF 100%)';
            document.body.style.backgroundAttachment = 'fixed';
            
            // Create floating angel beetles
            createAngelBeetles();
            
            setTimeout(() => {
                showMessage('👼 THE BEETLES HAVE ACHIEVED DIVINE ENLIGHTENMENT! 👼');
            }, 2000);
            
            setTimeout(() => {
                showMessage('✨ INFINITE BEETLE PRODUCTION FLOWS FROM THE HEAVENS! ✨');
            }, 4000);
            
            setTimeout(() => {
                showMessage('🌈 Press CTRL+ESC or click the button to return to earthly realm! 🌈');
            }, 6000);
        }
        
        function escapeHeavenMode() {
            if (!heavenMode) return;
            
            heavenMode = false;
            
            // Restore original beetles
            const beetlesContainer = document.querySelector('.beetles-container');
            beetlesContainer.innerHTML = originalBeetlesHTMLForHeaven;
            
            // Remove heaven styles
            const heavenStyles = document.getElementById('heaven-styles');
            if (heavenStyles) {
                heavenStyles.remove();
            }
            
            // Restore original background
            document.body.style.background = '';
            document.body.style.backgroundAttachment = '';
            
            showMessage('🪳 Returned to the earthly realm... but heaven awaits above! 🪳');
            playMagicSound();
        }
        
        function heavenClick() {
            const heavenMessages = [
                '👑 Divine beetles bestow royal blessings!',
                '✨ Celestial light illuminates your path!',
                '👼 Angels sing the praises of beetles!',
                '🌟 The heavens rejoice in your presence!',
                '🌈 Rainbow bridges connect all beetle realms!',
                '💎 Crystalline perfection flows through your soul!'
            ];
            
            const randomMessage = heavenMessages[Math.floor(Math.random() * heavenMessages.length)];
            showMessage(randomMessage);
            
            // Heaven click visual effect
            const heaven = document.querySelector('.heaven-realm');
            heaven.style.transform = 'scale(1.2)';
            heaven.style.filter = 'brightness(1.8) saturate(3)';
            
            setTimeout(() => {
                heaven.style.transform = '';
                heaven.style.filter = '';
            }, 300);
            
            // Random chance for divine blessing
            if (Math.random() < 0.2) {
                createDivineBlessing();
            }
        }
        
        function createDivineLightShow() {
            // Create cascading light beams from heaven
            for (let i = 0; i < 12; i++) {
                const lightBeam = document.createElement('div');
                lightBeam.style.cssText = `
                    position: fixed;
                    left: ${Math.random() * 100}%;
                    top: -10%;
                    width: 6px;
                    height: 150vh;
                    background: linear-gradient(to bottom, rgba(255, 255, 255, 0.8), rgba(255, 215, 0, 0.6), transparent);
                    animation: light-beam-descent ${8 + Math.random() * 4}s ease-out forwards;
                    pointer-events: none;
                    z-index: 1500;
                    transform: rotate(${Math.random() * 20 - 10}deg);
                    box-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
                `;
                document.body.appendChild(lightBeam);
                
                setTimeout(() => {
                    if (lightBeam && lightBeam.parentNode) {
                        lightBeam.parentNode.removeChild(lightBeam);
                    }
                }, 12000);
            }
            
            // Add light beam animation
            if (!document.getElementById('heaven-light-animations')) {
                const lightStyle = document.createElement('style');
                lightStyle.id = 'heaven-light-animations';
                lightStyle.textContent = `
                    @keyframes light-beam-descent {
                        0% { 
                            transform: translateY(-100vh) rotate(${Math.random() * 20 - 10}deg); 
                            opacity: 0; 
                        }
                        20% { 
                            opacity: 1; 
                        }
                        80% { 
                            opacity: 0.8; 
                        }
                        100% { 
                            transform: translateY(0) rotate(${Math.random() * 20 - 10}deg); 
                            opacity: 0; 
                        }
                    }
                `;
                document.head.appendChild(lightStyle);
            }
        }
        
        function createAngelBeetles() {
            // Create floating angel beetles with halos
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const angelBeetle = document.createElement('div');
                    angelBeetle.textContent = '👼🪳';
                    angelBeetle.style.cssText = `
                        position: fixed;
                        left: ${Math.random() * 100}%;
                        top: ${Math.random() * 100}%;
                        font-size: ${2 + Math.random() * 2}rem;
                        animation: angel-beetle-float ${6 + Math.random() * 4}s ease-in-out infinite;
                        pointer-events: none;
                        z-index: 1600;
                        text-shadow: 0 0 20px rgba(255, 255, 255, 1);
                    `;
                    document.body.appendChild(angelBeetle);
                    
                    setTimeout(() => {
                        if (angelBeetle && angelBeetle.parentNode) {
                            angelBeetle.parentNode.removeChild(angelBeetle);
                        }
                    }, 10000);
                }, i * 300);
            }
            
            // Add angel beetle animation
            if (!document.getElementById('angel-beetle-animations')) {
                const angelStyle = document.createElement('style');
                angelStyle.id = 'angel-beetle-animations';
                angelStyle.textContent = `
                    @keyframes angel-beetle-float {
                        0%, 100% { 
                            transform: translateY(0px) rotate(0deg) scale(1); 
                            opacity: 0.8; 
                        }
                        25% { 
                            transform: translateY(-20px) rotate(5deg) scale(1.1); 
                            opacity: 1; 
                        }
                        50% { 
                            transform: translateY(-40px) rotate(0deg) scale(1.2); 
                            opacity: 0.9; 
                        }
                        75% { 
                            transform: translateY(-20px) rotate(-5deg) scale(1.1); 
                            opacity: 1; 
                        }
                    }
                `;
                document.head.appendChild(angelStyle);
            }
        }
        
        function playHeavenlyChorus() {
            // Create ethereal heavenly chorus sound
            const chorusDuration = 6;
            const startTime = audioContext.currentTime;
            
            // Divine frequency spectrum based on angelic harmonics
            const heavenlyFreqs = [261.63, 329.63, 392.00, 523.25, 659.25, 783.99, 1046.50]; // C major scale ascending to heaven
            
            heavenlyFreqs.forEach((freq, index) => {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                const filterNode = audioContext.createBiquadFilter();
                const reverbGain = audioContext.createGain();
                
                oscillator.connect(filterNode);
                filterNode.connect(gainNode);
                gainNode.connect(reverbGain);
                reverbGain.connect(masterGain);
                
                oscillator.frequency.setValueAtTime(freq, startTime + index * 0.5);
                oscillator.frequency.exponentialRampToValueAtTime(freq * 2, startTime + chorusDuration);
                oscillator.type = 'sine'; // Pure, angelic sound
                
                filterNode.type = 'bandpass';
                filterNode.frequency.setValueAtTime(freq * 4, startTime);
                filterNode.frequency.exponentialRampToValueAtTime(freq * 8, startTime + chorusDuration);
                
                gainNode.gain.setValueAtTime(0, startTime + index * 0.5);
                gainNode.gain.linearRampToValueAtTime(0.04, startTime + index * 0.5 + 0.5);
                gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + chorusDuration);
                
                // Add heavenly reverb
                reverbGain.gain.setValueAtTime(0.8, startTime);
                
                oscillator.start(startTime + index * 0.5);
                oscillator.stop(startTime + chorusDuration);
            });
            
            // Add ethereal choir overtones
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const choirOsc = audioContext.createOscillator();
                    const choirGain = audioContext.createGain();
                    
                    choirOsc.connect(choirGain);
                    choirGain.connect(masterGain);
                    
                    choirOsc.frequency.setValueAtTime(800 + Math.random() * 1200, audioContext.currentTime);
                    choirOsc.type = 'triangle'; // Warm, choir-like sound
                    
                    choirGain.gain.setValueAtTime(0.02, audioContext.currentTime);
                    choirGain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 3);
                    
                    choirOsc.start(audioContext.currentTime);
                    choirOsc.stop(audioContext.currentTime + 3);
                }, i * 400);
            }
        }
        
        function templeClick() {
            const templeMessages = [
                '🏛️ The temple resonates with ancient power!',
                '✨ Divine beetles bless your clicks!',
                '🌟 The gods of beetles smile upon you!',
                '⚡ Sacred energy flows through your soul!',
                '🔮 The temple reveals its mysteries!',
                '👑 You are worthy of the beetle throne!'
            ];
            
            const randomMessage = templeMessages[Math.floor(Math.random() * templeMessages.length)];
            showMessage(randomMessage);
            
            // Temple click visual effect
            const temple = document.querySelector('.giant-temple');
            temple.style.transform = 'scale(1.1)';
            temple.style.filter = 'brightness(1.5) saturate(2)';
            
            setTimeout(() => {
                temple.style.transform = '';
                temple.style.filter = '';
            }, 200);
            
            // Random chance for special temple effects
            if (Math.random() < 0.1) {
                createDivineBlessing();
            }
        }
        
        function createConfettiExplosion() {
            const colors = ['#FFD700', '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FECA57', '#FF9FF3', '#54A0FF'];
            const confettiCount = 50;
            
            for (let i = 0; i < confettiCount; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti-piece';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animationDelay = Math.random() * 2 + 's';
                confetti.style.animationDuration = (Math.random() * 2 + 3) + 's';
                
                // Random shapes
                if (Math.random() < 0.5) {
                    confetti.style.borderRadius = '50%';
                } else {
                    confetti.style.transform = 'rotate(45deg)';
                }
                
                document.body.appendChild(confetti);
                
                setTimeout(() => {
                    if (confetti && confetti.parentNode) {
                        confetti.parentNode.removeChild(confetti);
                    }
                }, 5000);
            }
        }
        
        function playCheeringSoundEffect() {
            // Create cheering sound using Web Audio API
            const cheerDuration = 3;
            const startTime = audioContext.currentTime;
            
            // Create multiple crowd cheering frequencies
            const frequencies = [200, 300, 400, 500, 600, 700, 800];
            
            frequencies.forEach((freq, index) => {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                const filterNode = audioContext.createBiquadFilter();
                
                oscillator.connect(filterNode);
                filterNode.connect(gainNode);
                gainNode.connect(masterGain);
                
                oscillator.frequency.setValueAtTime(freq + Math.random() * 50, startTime);
                oscillator.type = 'sawtooth';
                
                filterNode.type = 'lowpass';
                filterNode.frequency.setValueAtTime(800 + Math.random() * 400, startTime);
                
                gainNode.gain.setValueAtTime(0, startTime);
                gainNode.gain.linearRampToValueAtTime(0.03, startTime + 0.1);
                gainNode.gain.linearRampToValueAtTime(0.05, startTime + 0.5);
                gainNode.gain.linearRampToValueAtTime(0.02, startTime + cheerDuration - 0.5);
                gainNode.gain.linearRampToValueAtTime(0, startTime + cheerDuration);
                
                oscillator.start(startTime + index * 0.1);
                oscillator.stop(startTime + cheerDuration);
            });
            
            // Add some random applause bursts
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const burstOsc = audioContext.createOscillator();
                    const burstGain = audioContext.createGain();
                    const burstFilter = audioContext.createBiquadFilter();
                    
                    burstOsc.connect(burstFilter);
                    burstFilter.connect(burstGain);
                    burstGain.connect(masterGain);
                    
                    burstOsc.frequency.setValueAtTime(100 + Math.random() * 200, audioContext.currentTime);
                    burstOsc.type = 'brown';
                    
                    burstFilter.type = 'highpass';
                    burstFilter.frequency.setValueAtTime(200, audioContext.currentTime);
                    
                    burstGain.gain.setValueAtTime(0.02, audioContext.currentTime);
                    burstGain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.2);
                    
                    burstOsc.start(audioContext.currentTime);
                    burstOsc.stop(audioContext.currentTime + 0.2);
                }, Math.random() * 3000);
            }
        }
        
        function createDivineBlessing() {
            const blessing = document.createElement('div');
            blessing.textContent = '✨ DIVINE BLESSING ✨';
            blessing.style.cssText = `
                position: fixed;
                top: 20%;
                left: 50%;
                transform: translateX(-50%);
                background: linear-gradient(45deg, #FFD700, #FFA500);
                color: white;
                padding: 20px 40px;
                border-radius: 20px;
                border: 3px solid white;
                font-size: 2rem;
                font-weight: bold;
                z-index: 2000;
                animation: divine-blessing 4s ease-out forwards;
                pointer-events: none;
                text-shadow: 2px 2px 0px black;
                box-shadow: 0 0 30px rgba(255, 215, 0, 0.8);
            `;
            
            document.body.appendChild(blessing);
            
            // Temporary beetle bonus
            const oldProduction = gameState.beetlesPerSecond;
            gameState.beetlesPerSecond *= 3;
            
            setTimeout(() => {
                gameState.beetlesPerSecond = oldProduction;
                calculateProduction(); // Recalculate normal production
                if (blessing && blessing.parentNode) {
                    blessing.parentNode.removeChild(blessing);
                }
            }, 4000);
            
            // Add divine blessing animation
            const divineStyle = document.createElement('style');
            divineStyle.textContent = `
                @keyframes divine-blessing {
                    0% { 
                        transform: translateX(-50%) scale(0) rotate(180deg); 
                        opacity: 0; 
                    }
                    25% { 
                        transform: translateX(-50%) scale(1.2) rotate(0deg); 
                        opacity: 1; 
                    }
                    75% { 
                        transform: translateX(-50%) scale(1) rotate(0deg); 
                        opacity: 1; 
                    }
                    100% { 
                        transform: translateX(-50%) scale(0.8) rotate(0deg); 
                        opacity: 0; 
                    }
                }
            `;
            document.head.appendChild(divineStyle);
        }
        
        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Konami code
            konamiCode.push(e.keyCode);
            if (konamiCode.length > konamiSequence.length) {
                konamiCode.shift();
            }
            
            if (konamiCode.join('') === konamiSequence.join('')) {
                showMessage('🪳 KONAMI BEETLE ACTIVATED! 🪳');
                activatePartyMode();
                konamiCode = [];
                return;
            }
            
            // ESC key to escape temple mode
            if (e.key === 'Escape' && templeMode) {
                e.preventDefault();
                escapeTempleMode();
                return;
            }
            
            // CTRL+ESC key to escape heaven mode
            if (e.key === 'Escape' && (e.ctrlKey || e.metaKey) && heavenMode) {
                e.preventDefault();
                escapeHeavenMode();
                return;
            }
            
            // Secret keyboard shortcuts
            switch(e.key.toLowerCase()) {
                case 'd':
                    if (e.ctrlKey || e.metaKey) {
                        e.preventDefault();
                        activateDiscoMode();
                    } else {
                        // Deet's rainbow prism effect
                        e.preventDefault();
                        transformBeetle('deet', 'rainbow');
                        showMessage('✨ DEET BECOMES RAINBOW PRISM! ✨');
                        createPrismExplosion();
                    }
                    break;
                case 'm':
                    if (e.ctrlKey || e.metaKey) {
                        e.preventDefault();
                        activateMatrixMode();
                    }
                    break;
                case 'e':
                    if (e.ctrlKey || e.metaKey) {
                        e.preventDefault();
                        activateEarthquakeMode();
                    }
                    break;
                case 'y':
                    if (e.ctrlKey || e.metaKey) {
                        e.preventDefault();
                        activateBeetle2000Mode();
                    } else {
                        e.preventDefault();
                        activateY2KMode();
                        showMessage('💿 Y2K BEETLE MILLENNIUM! 💿');
                    }
                    break;
                case 'r':
                    if (e.ctrlKey || e.metaKey) {
                        e.preventDefault();
                        triggerRandomSurprise();
                    }
                    break;
                case 'g':
                    transformBeetle('grangus', 'disco');
                    showMessage('🤠 Grangus goes DISCO!');
                    break;
                case 'd':
                    if (!(e.ctrlKey || e.metaKey)) { // Only if not Ctrl+D (disco mode)
                        transformBeetle('deet', 'rainbow');
                        showMessage('✨ DEET BECOMES RAINBOW PRISM! ✨');
                        createPrismExplosion();
                    }
                    break;
                case 'p':
                    transformBeetle('prosciutto', 'giant');
                    showMessage('🍖 MEGA PROSCIUTTO!');
                    break;
                case 'b':
                    // Secret beetle spawn
                    for (let i = 0; i < 5; i++) {
                        setTimeout(() => spawnFlyingBeetle(), i * 500);
                    }
                    showMessage('🪳 BEETLE INVASION! 🪳');
                    break;
                case ' ':
                    if (e.shiftKey) {
                        e.preventDefault();
                        // Secret space combination
                        document.querySelectorAll('.beetle').forEach(beetle => {
                            beetle.style.animationDuration = '0.1s';
                        });
                        showMessage('⚡ BEETLE SPEED BOOST! ⚡');
                        setTimeout(() => {
                            document.querySelectorAll('.beetle').forEach(beetle => {
                                beetle.style.animationDuration = '';
                            });
                        }, 3000);
                    }
                    break;
            }
        });
        
        // Sacred Word System with Typewriter Display
        let typedText = '';
        let typingTimeout = null;
        let deleteTimeout = null;
        let isDeleting = false;
        const sacredWords = ['god', 'jesus', 'temple', 'spiral', 'earthquake', 'triangle', 'eye', 'illuminati'];
        const sacredNumbers = ['23', '33', '77', '144', '666', '777', '1111'];
        
        function updateTypewriterDisplay() {
            const display = document.getElementById('typewriterDisplay');
            if (typedText.length > 0) {
                display.textContent = typedText;
                display.classList.add('typing');
                display.classList.remove('empty');
            } else {
                display.textContent = '';
                display.classList.remove('typing');
                display.classList.add('empty');
            }
        }
        
        function deleteTextWithAnimation() {
            if (isDeleting || typedText.length === 0) return;
            
            isDeleting = true;
            const display = document.getElementById('typewriterDisplay');
            display.classList.remove('typing');
            
            const deleteInterval = setInterval(() => {
                if (typedText.length > 0) {
                    typedText = typedText.slice(0, -1);
                    updateTypewriterDisplay();
                } else {
                    clearInterval(deleteInterval);
                    isDeleting = false;
                    display.classList.add('empty');
                }
            }, 50); // Delete one character every 50ms
        }
        
        document.addEventListener('keydown', (e) => {
            // Track letter and number keys for sacred words/numbers
            if (e.key.length === 1 && e.key.match(/[a-zA-Z0-9]/)) {
                // Skip if this is a keyboard shortcut (standalone letter with special meaning)
                const standaloneShortcuts = ['g', 'p', 'd', 'b'];
                if (standaloneShortcuts.includes(e.key.toLowerCase()) && typedText.length === 0) {
                    // Don't process standalone shortcuts in sacred word system
                    return;
                }
                
                // Stop any ongoing deletion
                if (isDeleting) {
                    isDeleting = false;
                }
                
                typedText += e.key.toLowerCase();
                updateTypewriterDisplay();
                
                // Clear timeouts
                if (typingTimeout) clearTimeout(typingTimeout);
                if (deleteTimeout) clearTimeout(deleteTimeout);
                
                // Set new timeout for auto-deletion after 2 seconds of inactivity
                typingTimeout = setTimeout(() => {
                    deleteTimeout = setTimeout(() => {
                        deleteTextWithAnimation();
                    }, 500); // Wait 0.5s before starting deletion
                }, 2000); // Wait 2s of inactivity
                
                // Check if any sacred word was typed
                sacredWords.forEach(word => {
                    if (typedText.includes(word)) {
                        activateSacredWord(word);
                        // Clear text immediately when word is found
                        typedText = '';
                        updateTypewriterDisplay();
                        // Cancel pending deletions
                        if (typingTimeout) clearTimeout(typingTimeout);
                        if (deleteTimeout) clearTimeout(deleteTimeout);
                    }
                });
                
                // Check if any sacred number was typed
                sacredNumbers.forEach(number => {
                    if (typedText.includes(number)) {
                        activateSacredNumber(number);
                        // Clear text immediately when number is found
                        typedText = '';
                        updateTypewriterDisplay();
                        // Cancel pending deletions
                        if (typingTimeout) clearTimeout(typingTimeout);
                        if (deleteTimeout) clearTimeout(deleteTimeout);
                    }
                });
                
                // Limit typed text length to prevent memory issues
                if (typedText.length > 20) {
                    typedText = typedText.slice(-10);
                    updateTypewriterDisplay();
                }
            }
        });
        
        function activateSacredWord(word) {
            switch(word) {
                case 'god':
                    showMessage('✨ DIVINE INTERVENTION! ✨');
                    createDivineBlessing();
                    break;
                case 'jesus':
                    showMessage('🙏 BLESSED BY THE SAVIOR! 🙏');
                    // Multiply beetle production by 5 for 10 seconds
                    const oldProduction = gameState.beetlesPerSecond;
                    gameState.beetlesPerSecond *= 5;
                    startModeCountdown('blessing', 10, '🙏', () => {
                        calculateProduction(); // Reset to normal
                    });
                    break;
                case 'temple':
                    showMessage('🏛️ THE TEMPLE CALLS TO YOU! 🏛️');
                    if (gameState.upgrades.temple.owned > 0) {
                        // If temple is owned, create special effect
                        createTempleBlessing();
                    } else {
                        // Give discount on temple
                        gameState.upgrades.temple.cost = Math.floor(gameState.upgrades.temple.cost * 0.8);
                        showMessage('🏛️ Temple discount granted! 20% off!');
                        updateDisplay();
                    }
                    break;
                case 'spiral':
                    showMessage('🌀 THE GOLDEN SPIRAL AWAKENS! 🌀');
                    createGoldenSpiralEffect();
                    startModeCountdown('spiral', 8, '🌀', () => {
                        showMessage('🌀 Spiral energy fades...');
                    });
                    break;
                case 'earthquake':
                    showMessage('🌍 THE EARTH TREMBLES! 🌍');
                    activateEarthquakeMode();
                    startModeCountdown('earthquake', 8, '🌍', () => {
                        showMessage('🌍 The earth settles...');
                    });
                    break;
                case 'triangle':
                    showMessage('🔺 THE SACRED TRIANGLE APPEARS! 🔺');
                    createTriangleFormation();
                    createMasonicTriangle();
                    startModeCountdown('triangle', 10, '🔺', () => {
                        showMessage('🔺 The triangle fades into mystery...');
                    });
                    break;
                case 'eye':
                    showMessage('👁 THE ALL-SEEING EYE AWAKENS! 👁');
                    activateIlluminatiMode();
                    startModeCountdown('eye', 11, '👁', () => {
                        showMessage('👁 The eye retreats to the shadows...');
                    });
                    break;
                case 'illuminati':
                    showMessage('🔺👁 THE ILLUMINATI REVEALED! 👁🔺');
                    activateIlluminatiMode();
                    createMasonicTriangle();
                    // Extra special effects for full word
                    setTimeout(() => createDivineBlessing(), 1000);
                    startModeCountdown('illuminati', 15, '👁🔺', () => {
                        showMessage('👁🔺 The brotherhood retreats...');
                    });
                    break;
            }
        }
        
        function createGoldenSpiralEffect() {
            // Change background to golden
            const originalBodyStyle = document.body.style.background;
            document.body.style.background = 'radial-gradient(circle, #FFD700 0%, #FFA500 50%, #FF8C00 100%)';
            document.body.style.backgroundAttachment = 'fixed';
            
            // Play spiral sound effect
            playGoldenSpiralSound();
            
            // Create positioned golden ratio spirals
            const phi = 1.618033988749;
            for (let i = 0; i < 12; i++) {
                const spiral = document.createElement('div');
                spiral.textContent = '🌀';
                spiral.style.cssText = `
                    position: fixed;
                    left: ${50 + (40 * Math.cos(i * phi * 0.5))}%;
                    top: ${50 + (40 * Math.sin(i * phi * 0.5))}%;
                    font-size: ${1 + i * 0.2}rem;
                    color: gold;
                    opacity: 0.8;
                    animation: spiral-spin ${3 + i * 0.3}s linear infinite, spiral-fade 8s ease-out forwards;
                    pointer-events: none;
                    z-index: 999;
                    transform-origin: center;
                    text-shadow: 0 0 20px #FFD700;
                `;
                document.body.appendChild(spiral);
                
                setTimeout(() => {
                    if (spiral && spiral.parentNode) {
                        spiral.parentNode.removeChild(spiral);
                    }
                }, 8000);
            }
            
            // Create giant flying spirals across the screen
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const giantSpiral = document.createElement('div');
                    giantSpiral.textContent = '🌀';
                    giantSpiral.style.cssText = `
                        position: fixed;
                        left: -100px;
                        top: ${Math.random() * 80 + 10}%;
                        font-size: 6rem;
                        color: gold;
                        opacity: 0.9;
                        animation: spiral-fly-across 4s linear forwards;
                        pointer-events: none;
                        z-index: 998;
                        text-shadow: 0 0 30px #FFD700;
                    `;
                    document.body.appendChild(giantSpiral);
                    
                    setTimeout(() => {
                        if (giantSpiral && giantSpiral.parentNode) {
                            giantSpiral.parentNode.removeChild(giantSpiral);
                        }
                    }, 4000);
                }, i * 1000);
            }
            
            // Restore background after 8 seconds
            setTimeout(() => {
                document.body.style.background = originalBodyStyle || '';
                document.body.style.backgroundAttachment = '';
            }, 8000);
            
            // Add spiral CSS animations
            if (!document.getElementById('spiral-animations')) {
                const spiralStyle = document.createElement('style');
                spiralStyle.id = 'spiral-animations';
                spiralStyle.textContent = `
                    @keyframes spiral-spin {
                        from { transform: rotate(0deg) scale(0.5); }
                        to { transform: rotate(720deg) scale(1.5); }
                    }
                    @keyframes spiral-fade {
                        0% { opacity: 0.8; }
                        50% { opacity: 1; }
                        100% { opacity: 0; }
                    }
                    @keyframes spiral-fly-across {
                        0% { 
                            left: -100px; 
                            transform: rotate(0deg) scale(1); 
                            opacity: 0;
                        }
                        10% { 
                            opacity: 0.9;
                        }
                        90% { 
                            opacity: 0.9;
                        }
                        100% { 
                            left: calc(100vw + 100px); 
                            transform: rotate(1440deg) scale(1.5); 
                            opacity: 0;
                        }
                    }
                `;
                document.head.appendChild(spiralStyle);
            }
        }
        
        function playGoldenSpiralSound() {
            // Create mystical spiral sound using Web Audio API
            const spiralDuration = 3;
            const startTime = audioContext.currentTime;
            
            // Create ascending frequency spiral
            const frequencies = [220, 277, 330, 415, 523, 659, 831]; // Ascending harmonic series
            
            frequencies.forEach((freq, index) => {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                const filterNode = audioContext.createBiquadFilter();
                
                oscillator.connect(filterNode);
                filterNode.connect(gainNode);
                gainNode.connect(masterGain);
                
                oscillator.frequency.setValueAtTime(freq, startTime + index * 0.3);
                oscillator.frequency.exponentialRampToValueAtTime(freq * 2, startTime + spiralDuration);
                oscillator.type = 'sine';
                
                filterNode.type = 'lowpass';
                filterNode.frequency.setValueAtTime(1000 + freq, startTime);
                filterNode.frequency.exponentialRampToValueAtTime(3000, startTime + spiralDuration);
                
                gainNode.gain.setValueAtTime(0, startTime + index * 0.3);
                gainNode.gain.linearRampToValueAtTime(0.08, startTime + index * 0.3 + 0.1);
                gainNode.gain.exponentialRampToValueAtTime(0.02, startTime + spiralDuration - 0.5);
                gainNode.gain.linearRampToValueAtTime(0, startTime + spiralDuration);
                
                oscillator.start(startTime + index * 0.3);
                oscillator.stop(startTime + spiralDuration);
            });
            
            // Add ethereal reverb effect
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    const echoOsc = audioContext.createOscillator();
                    const echoGain = audioContext.createGain();
                    
                    echoOsc.connect(echoGain);
                    echoGain.connect(masterGain);
                    
                    echoOsc.frequency.setValueAtTime(330 + i * 110, audioContext.currentTime);
                    echoOsc.type = 'triangle';
                    
                    echoGain.gain.setValueAtTime(0.03, audioContext.currentTime);
                    echoGain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 2);
                    
                    echoOsc.start(audioContext.currentTime);
                    echoOsc.stop(audioContext.currentTime + 2);
                }, i * 500);
            }
        }
        
        function createTempleBlessing() {
            // Create multiple temple emojis floating around
            for (let i = 0; i < 5; i++) {
                const temple = document.createElement('div');
                temple.textContent = '🏛️';
                temple.style.cssText = `
                    position: fixed;
                    left: ${Math.random() * 100}%;
                    top: ${Math.random() * 100}%;
                    font-size: 3rem;
                    color: gold;
                    opacity: 0.9;
                    animation: temple-blessing-float 6s ease-in-out forwards;
                    pointer-events: none;
                    z-index: 999;
                `;
                document.body.appendChild(temple);
                
                setTimeout(() => {
                    if (temple && temple.parentNode) {
                        temple.parentNode.removeChild(temple);
                    }
                }, 6000);
            }
            
            // Boost beetle production temporarily
            const oldProduction = gameState.beetlesPerSecond;
            gameState.beetlesPerSecond *= 10;
            startModeCountdown('temple-blessing', 6, '🏛️', () => {
                calculateProduction(); // Reset to normal
            });
            
            // Add temple blessing animation
            if (!document.getElementById('temple-blessing-animations')) {
                const templeStyle = document.createElement('style');
                templeStyle.id = 'temple-blessing-animations';
                templeStyle.textContent = `
                    @keyframes temple-blessing-float {
                        0% { transform: translateY(100vh) scale(0.5) rotate(0deg); opacity: 0; }
                        50% { transform: translateY(50vh) scale(1.5) rotate(180deg); opacity: 1; }
                        100% { transform: translateY(-20vh) scale(0.8) rotate(360deg); opacity: 0; }
                    }
                `;
                document.head.appendChild(templeStyle);
            }
        }
        
        function activateSacredNumber(number) {
            switch(number) {
                case '23':
                    showMessage('🔢 TWENTY-THREE: The sacred prime of chaos!');
                    // Create 23 floating beetles
                    for (let i = 0; i < 23; i++) {
                        setTimeout(() => spawnFlyingBeetle(), i * 100);
                    }
                    showMessage('🪳 The 23 sacred beetles emerge!');
                    break;
                case '33':
                    showMessage('📐 THIRTY-THREE: Masonic degrees revealed!');
                    // Create triangle formation with special effects
                    createMasonicTriangle();
                    startModeCountdown('masonic', 8, '📐', () => {
                        showMessage('📐 The lodge closes...');
                    });
                    break;
                case '77':
                    showMessage('⚡ SEVENTY-SEVEN: Lightning strikes twice!');
                    // Double all beetle production for 7 seconds
                    const oldProduction = gameState.beetlesPerSecond;
                    gameState.beetlesPerSecond *= 2;
                    startModeCountdown('lightning', 7, '⚡', () => {
                        calculateProduction(); // Reset to normal
                    });
                    break;
                case '144':
                    showMessage('🌀 ONE-FOUR-FOUR: Fibonacci awakens!');
                    // Create fibonacci spiral pattern
                    createFibonacciPattern();
                    startModeCountdown('fibonacci', 12, '🌀', () => {
                        showMessage('🌀 The golden ratio fades...');
                    });
                    break;
                case '666':
                    showMessage('😈 SIX-SIX-SIX: THE DEVIL AWAKENS! 😈');
                    createDevilAnimation();
                    activateHellMode();
                    startModeCountdown('devil', 13, '😈', () => {
                        showMessage('😈 The devil retreats to the underworld...');
                    });
                    break;
                case '777':
                    showMessage('🎰 SEVEN-SEVEN-SEVEN: Jackpot of the divine!');
                    // Massive beetle bonus
                    gameState.beetles += 777;
                    updateDisplay();
                    createJackpotEffect();
                    break;
                case '1111':
                    showMessage('👁 ELEVEN-ELEVEN: The awakening hour!');
                    // Special illuminati effect
                    activateIlluminatiMode();
                    startModeCountdown('illuminati', 11, '👁', () => {
                        showMessage('👁 The all-seeing eye retreats...');
                    });
                    break;
            }
        }
        
        function createDevilAnimation() {
            // Create dancing devil in the center
            const devil = document.createElement('div');
            devil.textContent = '😈';
            devil.style.cssText = `
                position: fixed;
                left: 50%;
                top: 50%;
                transform: translate(-50%, -50%);
                font-size: 8rem;
                color: #FF0000;
                animation: devil-dance 2s ease-in-out infinite;
                pointer-events: none;
                z-index: 2000;
                text-shadow: 0 0 30px #FF0000, 0 0 60px #FF6600;
            `;
            document.body.appendChild(devil);
            
            // Remove after 13 seconds
            setTimeout(() => {
                if (devil && devil.parentNode) {
                    devil.parentNode.removeChild(devil);
                }
            }, 13000);
            
            // Create falling flames
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    const flame = document.createElement('div');
                    flame.textContent = '🔥';
                    flame.style.cssText = `
                        position: fixed;
                        left: ${Math.random() * 100}%;
                        top: -10%;
                        font-size: ${1 + Math.random() * 2}rem;
                        animation: flame-fall ${3 + Math.random() * 2}s linear forwards;
                        pointer-events: none;
                        z-index: 1999;
                    `;
                    document.body.appendChild(flame);
                    
                    setTimeout(() => {
                        if (flame && flame.parentNode) {
                            flame.parentNode.removeChild(flame);
                        }
                    }, 5000);
                }, i * 200);
            }
            
            // Add devil animations
            if (!document.getElementById('devil-animations')) {
                const devilStyle = document.createElement('style');
                devilStyle.id = 'devil-animations';
                devilStyle.textContent = `
                    @keyframes devil-dance {
                        0%, 100% { transform: translate(-50%, -50%) scale(1) rotate(-5deg); }
                        25% { transform: translate(-50%, -50%) scale(1.2) rotate(5deg); }
                        50% { transform: translate(-50%, -50%) scale(1.1) rotate(-3deg); }
                        75% { transform: translate(-50%, -50%) scale(1.3) rotate(3deg); }
                    }
                    @keyframes flame-fall {
                        0% { 
                            transform: translateY(-50px) rotate(0deg); 
                            opacity: 1; 
                        }
                        100% { 
                            transform: translateY(100vh) rotate(360deg); 
                            opacity: 0; 
                        }
                    }
                    @keyframes hell-background {
                        0% { background-color: #000000; }
                        25% { background-color: #330000; }
                        50% { background-color: #660000; }
                        75% { background-color: #CC0000; }
                        100% { background-color: #FF0000; }
                    }
                `;
                document.head.appendChild(devilStyle);
            }
        }
        
        function activateHellMode() {
            // Change background to hellish red
            document.body.style.animation = 'hell-background 1s ease-in-out infinite alternate';
            
            // Play hellish sound
            playHellSound();
            
            // Restore normal after 13 seconds
            setTimeout(() => {
                document.body.style.animation = 'flashingColors 1.5s infinite';
            }, 13000);
        }
        
        function activateIlluminatiMode() {
            // Create giant all-seeing eye in the center
            const eye = document.createElement('div');
            eye.textContent = '👁';
            eye.style.cssText = `
                position: fixed;
                left: 50%;
                top: 50%;
                transform: translate(-50%, -50%);
                font-size: 10rem;
                color: #FFD700;
                animation: all-seeing-eye 11s ease-in-out forwards;
                pointer-events: none;
                z-index: 2000;
                text-shadow: 0 0 50px #FFD700, 0 0 100px #FFD700;
            `;
            document.body.appendChild(eye);
            
            // Remove after duration
            setTimeout(() => {
                if (eye && eye.parentNode) {
                    eye.parentNode.removeChild(eye);
                }
            }, 11000);
            
            // Create floating illuminati symbols
            const illuminatiSymbols = ['👁', '🔺', '💎', '⚡', '🌟'];
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const symbol = document.createElement('div');
                    symbol.textContent = illuminatiSymbols[Math.floor(Math.random() * illuminatiSymbols.length)];
                    symbol.style.cssText = `
                        position: fixed;
                        left: ${Math.random() * 100}%;
                        top: ${Math.random() * 100}%;
                        font-size: ${2 + Math.random() * 3}rem;
                        color: #FFD700;
                        animation: illuminati-float ${5 + Math.random() * 3}s ease-in-out forwards;
                        pointer-events: none;
                        z-index: 1999;
                        text-shadow: 0 0 20px #FFD700;
                    `;
                    document.body.appendChild(symbol);
                    
                    setTimeout(() => {
                        if (symbol && symbol.parentNode) {
                            symbol.parentNode.removeChild(symbol);
                        }
                    }, 8000);
                }, i * 500);
            }
            
            // Change background to mysterious dark blue-gold
            document.body.style.background = 'radial-gradient(circle, #000033 0%, #000066 50%, #FFD700 100%)';
            document.body.style.backgroundAttachment = 'fixed';
            
            // Restore background after mode ends
            setTimeout(() => {
                document.body.style.background = '';
                document.body.style.backgroundAttachment = '';
            }, 11000);
            
            // Add illuminati animations if not already added
            if (!document.getElementById('illuminati-animations')) {
                const illuminatiStyle = document.createElement('style');
                illuminatiStyle.id = 'illuminati-animations';
                illuminatiStyle.textContent = `
                    @keyframes illuminati-float {
                        0% { 
                            transform: scale(0) rotate(0deg); 
                            opacity: 0; 
                        }
                        25% { 
                            transform: scale(1.5) rotate(90deg); 
                            opacity: 1; 
                        }
                        75% { 
                            transform: scale(1) rotate(270deg); 
                            opacity: 0.8; 
                        }
                        100% { 
                            transform: scale(0) rotate(360deg); 
                            opacity: 0; 
                        }
                    }
                `;
                document.head.appendChild(illuminatiStyle);
            }
        }
        
        function activateY2KMode() {
            // Create Y2K themed effects
            showMessage('💿 WELCOME TO THE MILLENNIUM! 💿');
            
            // Create falling Y2K symbols
            const y2kSymbols = ['💿', '💾', '📺', '💻', '📼', '📻', '⚡', '🌐', '💫', '✨'];
            for (let i = 0; i < 25; i++) {
                setTimeout(() => {
                    const symbol = document.createElement('div');
                    symbol.textContent = y2kSymbols[Math.floor(Math.random() * y2kSymbols.length)];
                    symbol.style.cssText = `
                        position: fixed;
                        left: ${Math.random() * 100}%;
                        top: -10%;
                        font-size: ${1.5 + Math.random() * 2}rem;
                        animation: y2k-fall ${4 + Math.random() * 3}s linear forwards;
                        pointer-events: none;
                        z-index: 1999;
                        text-shadow: 0 0 10px #00FFFF;
                    `;
                    document.body.appendChild(symbol);
                    
                    setTimeout(() => {
                        if (symbol && symbol.parentNode) {
                            symbol.parentNode.removeChild(symbol);
                        }
                    }, 7000);
                }, i * 100);
            }
            
            // Create center Y2K logo
            const y2kLogo = document.createElement('div');
            y2kLogo.textContent = 'Y2K';
            y2kLogo.style.cssText = `
                position: fixed;
                left: 50%;
                top: 30%;
                transform: translate(-50%, -50%);
                font-size: 8rem;
                font-weight: bold;
                color: #00FFFF;
                font-family: 'Impact', 'Arial Black', sans-serif;
                animation: y2k-glow 2s ease-in-out infinite alternate;
                pointer-events: none;
                z-index: 2000;
                text-shadow: 
                    0 0 20px #00FFFF,
                    0 0 40px #FF00FF,
                    0 0 60px #FFFF00,
                    3px 3px 0px #000;
            `;
            document.body.appendChild(y2kLogo);
            
            // Remove logo after duration
            setTimeout(() => {
                if (y2kLogo && y2kLogo.parentNode) {
                    y2kLogo.parentNode.removeChild(y2kLogo);
                }
            }, 12000);
            
            // Change background to Y2K cyber theme
            document.body.style.background = 'linear-gradient(45deg, #000080 0%, #4B0082 25%, #8B008B 50%, #00CED1 75%, #000080 100%)';
            document.body.style.backgroundSize = '400% 400%';
            document.body.style.animation = 'y2k-cyber-gradient 3s ease-in-out infinite';
            
            // Transform beetles to cyber theme
            ['grangus', 'deet', 'prosciutto'].forEach(name => {
                const beetle = document.querySelector(`.${name}`);
                if (beetle) {
                    beetle.style.filter = 'hue-rotate(180deg) saturate(200%) brightness(150%) drop-shadow(0 0 10px #00FFFF)';
                }
            });
            
            // Play Y2K electronic sounds
            playY2KSound();
            
            // Add retro scan lines effect
            const scanlines = document.createElement('div');
            scanlines.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 2px,
                    rgba(0, 255, 255, 0.03) 2px,
                    rgba(0, 255, 255, 0.03) 4px
                );
                pointer-events: none;
                z-index: 1998;
                animation: scanline-flicker 0.15s linear infinite;
            `;
            document.body.appendChild(scanlines);
            
            // Countdown timer effect
            setTimeout(() => showMessage('🕑 Checking for Y2K bugs... NONE FOUND! 🕑'), 3000);
            setTimeout(() => showMessage('💻 System compatibility: 100% BEETLE! 💻'), 6000);
            setTimeout(() => showMessage('🌐 Welcome to the new millennium of beetles! 🌐'), 9000);
            
            // Restore everything after 12 seconds
            setTimeout(() => {
                document.body.style.background = '';
                document.body.style.backgroundSize = '';
                document.body.style.animation = 'flashingColors 1.5s infinite';
                
                // Restore beetle filters
                ['grangus', 'deet', 'prosciutto'].forEach(name => {
                    const beetle = document.querySelector(`.${name}`);
                    if (beetle) {
                        beetle.style.filter = '';
                    }
                });
                
                // Remove scanlines
                if (scanlines && scanlines.parentNode) {
                    scanlines.parentNode.removeChild(scanlines);
                }
            }, 12000);
            
            // Add Y2K animations if not already added
            if (!document.getElementById('y2k-animations')) {
                const y2kStyle = document.createElement('style');
                y2kStyle.id = 'y2k-animations';
                y2kStyle.textContent = `
                    @keyframes y2k-fall {
                        0% { 
                            transform: translateY(-50px) rotate(0deg); 
                            opacity: 0; 
                        }
                        10% { 
                            opacity: 1; 
                        }
                        90% { 
                            opacity: 1; 
                        }
                        100% { 
                            transform: translateY(100vh) rotate(360deg); 
                            opacity: 0; 
                        }
                    }
                    @keyframes y2k-glow {
                        0% { 
                            color: #00FFFF;
                            text-shadow: 
                                0 0 20px #00FFFF,
                                0 0 40px #FF00FF,
                                0 0 60px #FFFF00,
                                3px 3px 0px #000;
                        }
                        100% { 
                            color: #FF00FF;
                            text-shadow: 
                                0 0 30px #FF00FF,
                                0 0 50px #00FFFF,
                                0 0 70px #FFFF00,
                                3px 3px 0px #000;
                        }
                    }
                    @keyframes y2k-cyber-gradient {
                        0% { background-position: 0% 50%; }
                        50% { background-position: 100% 50%; }
                        100% { background-position: 0% 50%; }
                    }
                    @keyframes scanline-flicker {
                        0% { opacity: 0.03; }
                        50% { opacity: 0.06; }
                        100% { opacity: 0.03; }
                    }
                `;
                document.head.appendChild(y2kStyle);
            }
        }
        
        function playY2KSound() {
            // Create retro electronic Y2K sound
            const y2kDuration = 4;
            const startTime = audioContext.currentTime;
            
            // Create classic 90s electronic frequencies
            const y2kFreqs = [220, 440, 880, 1760]; // Doubling frequencies for electronic feel
            
            y2kFreqs.forEach((freq, index) => {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                const filterNode = audioContext.createBiquadFilter();
                
                oscillator.connect(filterNode);
                filterNode.connect(gainNode);
                gainNode.connect(masterGain);
                
                oscillator.frequency.setValueAtTime(freq, startTime + index * 0.3);
                oscillator.frequency.exponentialRampToValueAtTime(freq * 1.5, startTime + y2kDuration);
                oscillator.type = 'square'; // Classic electronic square wave
                
                filterNode.type = 'bandpass';
                filterNode.frequency.setValueAtTime(freq * 2, startTime);
                filterNode.frequency.exponentialRampToValueAtTime(freq * 4, startTime + y2kDuration);
                
                gainNode.gain.setValueAtTime(0, startTime + index * 0.3);
                gainNode.gain.linearRampToValueAtTime(0.06, startTime + index * 0.3 + 0.1);
                gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + y2kDuration);
                
                oscillator.start(startTime + index * 0.3);
                oscillator.stop(startTime + y2kDuration);
            });
            
            // Add some digital blips and beeps
            for (let i = 0; i < 6; i++) {
                setTimeout(() => {
                    const blipOsc = audioContext.createOscillator();
                    const blipGain = audioContext.createGain();
                    
                    blipOsc.connect(blipGain);
                    blipGain.connect(masterGain);
                    
                    blipOsc.frequency.setValueAtTime(1000 + Math.random() * 1000, audioContext.currentTime);
                    blipOsc.type = 'square';
                    
                    blipGain.gain.setValueAtTime(0.04, audioContext.currentTime);
                    blipGain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.1);
                    
                    blipOsc.start(audioContext.currentTime);
                    blipOsc.stop(audioContext.currentTime + 0.1);
                }, i * 400);
            }
        }
        
        function playGrangusDiscoSound() {
            // Groovy disco sound for cowboy Grangus
            const discoNote = 130.81; // C3 - funky bass note
            const duration = 2.5;
            const startTime = audioContext.currentTime;
            
            // Funky bass line
            const bassNotes = [discoNote, discoNote * 1.25, discoNote * 1.5, discoNote * 2]; // C, E, G, C
            bassNotes.forEach((freq, i) => {
                const osc = audioContext.createOscillator();
                const gain = audioContext.createGain();
                const filter = audioContext.createBiquadFilter();
                
                osc.connect(filter);
                filter.connect(gain);
                gain.connect(masterGain);
                
                osc.frequency.setValueAtTime(freq, startTime + i * 0.2);
                osc.type = 'sawtooth'; // Funky bass sound
                
                filter.type = 'lowpass';
                filter.frequency.setValueAtTime(300 + i * 50, startTime + i * 0.2);
                
                gain.gain.setValueAtTime(0, startTime + i * 0.2);
                gain.gain.linearRampToValueAtTime(0.08, startTime + i * 0.2 + 0.05);
                gain.gain.linearRampToValueAtTime(0.04, startTime + i * 0.2 + 0.15);
                gain.gain.linearRampToValueAtTime(0, startTime + i * 0.2 + 0.2);
                
                osc.start(startTime + i * 0.2);
                osc.stop(startTime + i * 0.2 + 0.2);
            });
            
            // Add cowboy "yeehaw" high pitch accent
            setTimeout(() => {
                const yeehawOsc = audioContext.createOscillator();
                const yeehawGain = audioContext.createGain();
                
                yeehawOsc.connect(yeehawGain);
                yeehawGain.connect(masterGain);
                
                yeehawOsc.frequency.setValueAtTime(659.25, audioContext.currentTime); // E5
                yeehawOsc.frequency.exponentialRampToValueAtTime(523.25, audioContext.currentTime + 0.3); // Slide down to C5
                yeehawOsc.type = 'triangle';
                
                yeehawGain.gain.setValueAtTime(0.05, audioContext.currentTime);
                yeehawGain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.3);
                
                yeehawOsc.start(audioContext.currentTime);
                yeehawOsc.stop(audioContext.currentTime + 0.3);
            }, 400);
        }
        
        function playDeetRainbowSound() {
            // Magical rainbow sound for glorious Deet (similar to spiral but more sparkly)
            const rainbowDuration = 3;
            const startTime = audioContext.currentTime;
            
            // Create rainbow frequency spectrum
            const rainbowFreqs = [261.63, 329.63, 392.00, 493.88, 587.33, 698.46, 783.99]; // C major scale
            
            rainbowFreqs.forEach((freq, index) => {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                const filterNode = audioContext.createBiquadFilter();
                
                oscillator.connect(filterNode);
                filterNode.connect(gainNode);
                gainNode.connect(masterGain);
                
                oscillator.frequency.setValueAtTime(freq, startTime + index * 0.15);
                oscillator.frequency.exponentialRampToValueAtTime(freq * 1.8, startTime + rainbowDuration);
                oscillator.type = 'sine'; // Pure, crystalline sound
                
                filterNode.type = 'bandpass';
                filterNode.frequency.setValueAtTime(freq * 3, startTime);
                filterNode.frequency.exponentialRampToValueAtTime(freq * 6, startTime + rainbowDuration);
                
                gainNode.gain.setValueAtTime(0, startTime + index * 0.15);
                gainNode.gain.linearRampToValueAtTime(0.06, startTime + index * 0.15 + 0.1);
                gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + rainbowDuration);
                
                oscillator.start(startTime + index * 0.15);
                oscillator.stop(startTime + rainbowDuration);
            });
            
            // Add sparkly overtones
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const sparkleOsc = audioContext.createOscillator();
                    const sparkleGain = audioContext.createGain();
                    
                    sparkleOsc.connect(sparkleGain);
                    sparkleGain.connect(masterGain);
                    
                    sparkleOsc.frequency.setValueAtTime(1000 + Math.random() * 1500, audioContext.currentTime);
                    sparkleOsc.type = 'sine';
                    
                    sparkleGain.gain.setValueAtTime(0.03, audioContext.currentTime);
                    sparkleGain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.2);
                    
                    sparkleOsc.start(audioContext.currentTime);
                    sparkleOsc.stop(audioContext.currentTime + 0.2);
                }, i * 200);
            }
        }
        
        function playProsciuttoGiantSound() {
            // Epic growth sound for mega Prosciutto
            const growthDuration = 2.5;
            const startTime = audioContext.currentTime;
            
            // Deep rumbling growth with rising pitch
            const growthOsc = audioContext.createOscillator();
            const growthGain = audioContext.createGain();
            const growthFilter = audioContext.createBiquadFilter();
            
            growthOsc.connect(growthFilter);
            growthFilter.connect(growthGain);
            growthGain.connect(masterGain);
            
            growthOsc.frequency.setValueAtTime(55, startTime); // Very low A1
            growthOsc.frequency.exponentialRampToValueAtTime(220, startTime + growthDuration); // Rise to A3
            growthOsc.type = 'sawtooth'; // Rich harmonic content
            
            growthFilter.type = 'lowpass';
            growthFilter.frequency.setValueAtTime(200, startTime);
            growthFilter.frequency.exponentialRampToValueAtTime(1000, startTime + growthDuration);
            
            growthGain.gain.setValueAtTime(0, startTime);
            growthGain.gain.linearRampToValueAtTime(0.08, startTime + 0.3);
            growthGain.gain.linearRampToValueAtTime(0.1, startTime + 1);
            growthGain.gain.exponentialRampToValueAtTime(0.001, startTime + growthDuration);
            
            growthOsc.start(startTime);
            growthOsc.stop(startTime + growthDuration);
            
            // Add Italian "mama mia!" accent notes
            const italianNotes = [523.25, 659.25, 783.99]; // C5, E5, G5 - cheerful Italian scale
            italianNotes.forEach((freq, i) => {
                setTimeout(() => {
                    const accentOsc = audioContext.createOscillator();
                    const accentGain = audioContext.createGain();
                    
                    accentOsc.connect(accentGain);
                    accentGain.connect(masterGain);
                    
                    accentOsc.frequency.setValueAtTime(freq, audioContext.currentTime);
                    accentOsc.type = 'triangle';
                    
                    accentGain.gain.setValueAtTime(0.04, audioContext.currentTime);
                    accentGain.gain.exponentialRampToValueAtTime(0.001, audioContext.currentTime + 0.3);
                    
                    accentOsc.start(audioContext.currentTime);
                    accentOsc.stop(audioContext.currentTime + 0.3);
                }, 800 + i * 200);
            });
        }
        
        function playHellSound() {
            // Create ominous hell sound using Web Audio API
            const hellDuration = 3;
            const startTime = audioContext.currentTime;
            
            // Create deep, ominous frequencies
            const hellFreqs = [66, 77, 88, 99, 110]; // Very low, ominous frequencies
            
            hellFreqs.forEach((freq, index) => {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                const filterNode = audioContext.createBiquadFilter();
                
                oscillator.connect(filterNode);
                filterNode.connect(gainNode);
                gainNode.connect(masterGain);
                
                oscillator.frequency.setValueAtTime(freq, startTime + index * 0.2);
                oscillator.type = 'sawtooth'; // Harsh, demonic sound
                
                filterNode.type = 'lowpass';
                filterNode.frequency.setValueAtTime(200 + freq, startTime);
                
                gainNode.gain.setValueAtTime(0, startTime + index * 0.2);
                gainNode.gain.linearRampToValueAtTime(0.1, startTime + index * 0.2 + 0.3);
                gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + hellDuration);
                
                oscillator.start(startTime + index * 0.2);
                oscillator.stop(startTime + hellDuration);
            });
        }
        
        function createMasonicTriangle() {
            const symbols = ['📐', '🔺', '👁'];
            for (let i = 0; i < 3; i++) {
                const symbol = document.createElement('div');
                symbol.textContent = symbols[i];
                symbol.style.cssText = `
                    position: fixed;
                    font-size: 4rem;
                    color: gold;
                    opacity: 0.9;
                    animation: masonic-float 8s ease-in-out forwards;
                    pointer-events: none;
                    z-index: 999;
                    left: ${30 + i * 20}%;
                    top: ${20 + i * 15}%;
                `;
                document.body.appendChild(symbol);
                
                setTimeout(() => {
                    if (symbol && symbol.parentNode) {
                        symbol.parentNode.removeChild(symbol);
                    }
                }, 8000);
            }
            
            // Add masonic animation
            if (!document.getElementById('masonic-animations')) {
                const masonicStyle = document.createElement('style');
                masonicStyle.id = 'masonic-animations';
                masonicStyle.textContent = `
                    @keyframes masonic-float {
                        0% { transform: scale(0) rotate(0deg); opacity: 0; }
                        25% { transform: scale(1.5) rotate(90deg); opacity: 1; }
                        75% { transform: scale(1) rotate(270deg); opacity: 1; }
                        100% { transform: scale(0) rotate(360deg); opacity: 0; }
                    }
                `;
                document.head.appendChild(masonicStyle);
            }
        }
        
        function createFibonacciPattern() {
            const fibSequence = [1, 1, 2, 3, 5, 8, 13, 21];
            fibSequence.forEach((num, index) => {
                const fibElement = document.createElement('div');
                fibElement.textContent = num;
                fibElement.style.cssText = `
                    position: fixed;
                    left: ${10 + index * 10}%;
                    top: ${20 + (num * 3)}%;
                    font-size: ${1 + num * 0.2}rem;
                    color: #FFD700;
                    opacity: 0.8;
                    animation: fibonacci-spiral ${2 + index * 0.5}s ease-out forwards;
                    pointer-events: none;
                    z-index: 999;
                `;
                document.body.appendChild(fibElement);
                
                setTimeout(() => {
                    if (fibElement && fibElement.parentNode) {
                        fibElement.parentNode.removeChild(fibElement);
                    }
                }, 12000);
            });
            
            // Add fibonacci animation
            if (!document.getElementById('fibonacci-animations')) {
                const fibStyle = document.createElement('style');
                fibStyle.id = 'fibonacci-animations';
                fibStyle.textContent = `
                    @keyframes fibonacci-spiral {
                        0% { transform: scale(0) rotate(0deg); opacity: 0; }
                        50% { transform: scale(2) rotate(180deg); opacity: 1; }
                        100% { transform: scale(1) rotate(360deg); opacity: 0; }
                    }
                `;
                document.head.appendChild(fibStyle);
            }
        }
        
        function createJackpotEffect() {
            // Create raining 7s
            for (let i = 0; i < 50; i++) {
                const seven = document.createElement('div');
                seven.textContent = '7';
                seven.style.cssText = `
                    position: fixed;
                    left: ${Math.random() * 100}%;
                    top: -10%;
                    font-size: 2rem;
                    color: gold;
                    opacity: 0.9;
                    animation: jackpot-rain ${2 + Math.random() * 3}s linear forwards;
                    pointer-events: none;
                    z-index: 999;
                `;
                document.body.appendChild(seven);
                
                setTimeout(() => {
                    if (seven && seven.parentNode) {
                        seven.parentNode.removeChild(seven);
                    }
                }, 5000);
            }
            
            // Add jackpot animation
            if (!document.getElementById('jackpot-animations')) {
                const jackpotStyle = document.createElement('style');
                jackpotStyle.id = 'jackpot-animations';
                jackpotStyle.textContent = `
                    @keyframes jackpot-rain {
                        0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
                        100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
                    }
                `;
                document.head.appendChild(jackpotStyle);
            }
        }
        
        // Sacred geometry and numerology secrets
        let sacredSequence = [];
        const illuminatiCode = [73, 76, 76, 85, 77, 73, 78, 65, 84, 73]; // "ILLUMINATI"
        const masonicNumbers = [3, 7, 13, 23, 33, 47, 77, 93, 144, 777];
        let angelicMode = false;
        let hiddenSymbolsRevealed = 0;
        
        // Secret society mysteries
        function checkSacredNumbers() {
            const currentTime = new Date();
            const minutes = currentTime.getMinutes();
            const seconds = currentTime.getSeconds();
            
            // Check for sacred times
            if ((minutes === 33 && seconds === 33) || 
                (minutes === 23 && seconds === 23) ||
                (minutes === 11 && seconds === 11)) {
                revealHiddenTruth();
            }
            
            // Fibonacci mysteries
            if ([1, 1, 2, 3, 5, 8, 13, 21, 34, 55].includes(seconds)) {
                if (Math.random() < 0.1) {
                    showMessage('⌬ The sacred spiral reveals itself ⌬');
                    createGoldenRatioEffect();
                }
            }
        }
        
        function revealHiddenTruth() {
            const mysteries = [
                '∴ The beetles know the ancient paths ∴',
                '◊ Three pillars, three beetles, three degrees ◊',
                '⊹ As the scarab guides the sun, so do they guide the code ⊹',
                '𖤍 In the order of chaos, truth emerges 𖤍',
                '✦ The geometry of six legs reveals sacred truths ✦'
            ];
            
            const randomMystery = mysteries[Math.floor(Math.random() * mysteries.length)];
            showMessage(randomMystery);
            
            // Reveal hidden symbols temporarily
            revealHiddenSymbols();
        }
        
        function createGoldenRatioEffect() {
            const phi = 1.618033988749;
            for (let i = 0; i < 8; i++) {
                const spiral = document.createElement('div');
                spiral.textContent = '◉';
                spiral.style.cssText = `
                    position: fixed;
                    left: ${50 + (30 * Math.cos(i * phi) / phi)}%;
                    top: ${50 + (30 * Math.sin(i * phi) / phi)}%;
                    font-size: 1rem;
                    color: gold;
                    opacity: 0.7;
                    animation: golden-fade 3s ease-out forwards;
                    pointer-events: none;
                    z-index: 999;
                `;
                document.body.appendChild(spiral);
                
                setTimeout(() => {
                    if (spiral && spiral.parentNode) {
                        spiral.parentNode.removeChild(spiral);
                    }
                }, 3000);
            }
        }
        
        function revealHiddenSymbols() {
            const hiddenElements = document.querySelectorAll('[style*="opacity: 0.0"]');
            hiddenElements.forEach(el => {
                el.style.opacity = '0.8';
                el.style.color = '#FFD700';
                el.style.textShadow = '0 0 10px #FFD700';
            });
            
            setTimeout(() => {
                hiddenElements.forEach(el => {
                    el.style.opacity = '0.05';
                    el.style.color = 'white';
                    el.style.textShadow = '';
                });
            }, 7000);
        }
        
        // Angelic language decoder
        function activateAngelicMode() {
            if (angelicMode) return;
            angelicMode = true;
            
            showMessage('𝔄𝔫𝔤𝔢𝔩𝔦𝔠 𝔦𝔫𝔱𝔢𝔯𝔣𝔞𝔠𝔢 𝔞𝔠𝔱𝔦𝔳𝔞𝔱𝔢𝔡');
            
            // Replace beetle names with Enochian-inspired text
            setTimeout(() => {
                document.querySelector('.grangus .beetle-name').textContent = 'ᚷᚱᚨᚾᚷᚢᛊ ᚷᚱᚢᛗᛒᚤ';
                document.querySelector('.deet .beetle-name').textContent = 'ᛞᛖᛖᛏ ᚷᛚᛟᚱᛁᛟᚢᛊ';
                document.querySelector('.prosciutto .beetle-name').textContent = 'ᛈᚱᛟᛊᚲᛁᚢᛏᛏᛟ';
            }, 1000);
            
            setTimeout(() => {
                document.querySelector('.grangus .beetle-name').textContent = 'GRANGUS GRUMBY';
                document.querySelector('.deet .beetle-name').textContent = 'DEET GLORIOUS';
                document.querySelector('.prosciutto .beetle-name').textContent = 'PROSCIUTTO';
                angelicMode = false;
            }, 10000);
        }
        
        // Secret keycode sequences
        function checkIlluminatiCode() {
            if (sacredSequence.length >= illuminatiCode.length) {
                const lastSequence = sacredSequence.slice(-illuminatiCode.length);
                if (JSON.stringify(lastSequence) === JSON.stringify(illuminatiCode)) {
                    showMessage('△ The All-Seeing Beetle acknowledges you △');
                    activateIlluminatiMode();
                    sacredSequence = [];
                }
            }
        }
        
        function activateIlluminatiMode() {
            // Add eye of providence effect
            const eye = document.createElement('div');
            eye.innerHTML = '👁';
            eye.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                font-size: 10rem;
                opacity: 0;
                animation: all-seeing-eye 8s ease-in-out;
                pointer-events: none;
                z-index: 9999;
                text-shadow: 0 0 50px #FFD700;
            `;
            document.body.appendChild(eye);
            
            // Pyramid formation with beetles
            document.querySelectorAll('.beetle').forEach((beetle, i) => {
                beetle.style.transform = `translateY(-${i * 50}px) scale(${1 + i * 0.3})`;
            });
            
            setTimeout(() => {
                if (eye && eye.parentNode) {
                    eye.parentNode.removeChild(eye);
                }
                document.querySelectorAll('.beetle').forEach(beetle => {
                    beetle.style.transform = '';
                });
            }, 8000);
        }
        
        // Check sacred numbers periodically
        setInterval(checkSacredNumbers, 1000);
        
        // Enhanced keyboard listener for sacred sequences
        document.addEventListener('keydown', (e) => {
            sacredSequence.push(e.keyCode);
            if (sacredSequence.length > 15) {
                sacredSequence.shift();
            }
            
            checkIlluminatiCode();
            
            // Secret masonic shortcuts
            if (e.key === 'ψ' || (e.altKey && e.key === 'p')) { // Alt+P for psi
                e.preventDefault();
                activateAngelicMode();
            }
            
            if (e.key === '∆' || (e.altKey && e.shiftKey && e.key === 'j')) { // Alt+Shift+J
                e.preventDefault();
                showMessage('△ The sacred triangle has been invoked △');
                createTriangleFormation();
            }
            
            // Secret number combinations
            if (e.key === '3' && e.shiftKey && e.ctrlKey) {
                hiddenSymbolsRevealed++;
                if (hiddenSymbolsRevealed === 3) {
                    showMessage('⊹ Third degree achieved ⊹');
                    revealHiddenTruth();
                }
            }
        });
        
        function createTriangleFormation() {
            const vertices = [
                {x: 50, y: 20}, // Top
                {x: 20, y: 80}, // Bottom left  
                {x: 80, y: 80}  // Bottom right
            ];
            
            document.querySelectorAll('.beetle').forEach((beetle, i) => {
                if (vertices[i]) {
                    beetle.style.position = 'fixed';
                    beetle.style.left = vertices[i].x + '%';
                    beetle.style.top = vertices[i].y + '%';
                    beetle.style.transform = 'translate(-50%, -50%)';
                }
            });
            
            setTimeout(() => {
                document.querySelectorAll('.beetle').forEach(beetle => {
                    beetle.style.position = '';
                    beetle.style.left = '';
                    beetle.style.top = '';
                    beetle.style.transform = '';
                });
            }, 5000);
        }
        
        // Hidden timestamp mysteries
        function addTimestampMysteries() {
            const now = new Date();
            const timestamp = now.getTime();
            
            // Check for palindromic timestamps
            const timeStr = timestamp.toString();
            if (timeStr === timeStr.split('').reverse().join('')) {
                showMessage('⟡ Time itself reveals the palindrome ⟡');
            }
            
            // Add hidden timestamp in HTML comment
            document.body.appendChild(document.createComment(`Sacred timestamp: ${timestamp} | Beetle coordinates: φ=${(1+Math.sqrt(5))/2} | ∴∵∴`));
        }
        
        // Beetle Clicker Game Variables
        let gameState = {
            beetles: 0,
            clickPower: 1,
            beetlesPerSecond: 0,
            totalClicks: 0,
            totalBeetles: 0,
            upgrades: {
                cursor: { owned: 0, cost: 15, production: 0.1, maxOwned: 1 },
                clickpower: { owned: 0, cost: 50, production: 0, maxOwned: null, clickBonus: 1 },
                farm: { owned: 0, cost: 100, production: 1, maxOwned: null },
                mine: { owned: 0, cost: 1100, production: 8, maxOwned: null },
                lab: { owned: 0, cost: 10000, production: 47, maxOwned: null },
                portal: { owned: 0, cost: 100000, production: 260, maxOwned: null },
                temple: { owned: 0, cost: 1400000, production: 1400, maxOwned: null },
                heaven: { owned: 0, cost: 50000000, production: 10000, maxOwned: null }
            },
            achievements: {
                'first-click': { unlocked: false, name: 'First Click', desc: 'Click your first beetle', icon: '🪳' },
                'hundred-beetles': { unlocked: false, name: 'Beetle Army', desc: 'Own 100 beetles', icon: '💯' },
                'thousand-beetles': { unlocked: false, name: 'Beetle Legion', desc: 'Own 1,000 beetles', icon: '⭐' },
                'first-upgrade': { unlocked: false, name: 'Automation', desc: 'Buy your first upgrade', icon: '🤖' },
                'click-master': { unlocked: false, name: 'Click Master', desc: 'Click 1,000 times', icon: '👆' },
                'beetle-lord': { unlocked: false, name: 'Beetle Lord', desc: 'Own 10,000 beetles', icon: '👑' },
                'speed-demon': { unlocked: false, name: 'Speed Demon', desc: 'Produce 100 beetles/sec', icon: '⚡' },
                'millionaire': { unlocked: false, name: 'Beetle Millionaire', desc: 'Own 1,000,000 beetles', icon: '💰' },
                'temple-builder': { unlocked: false, name: 'Temple Builder', desc: 'Build a Beetle Temple', icon: '🏛️' }
            },
            clickerOpen: false
        };
        
        // Beetle Clicker Functions
        function clickUpgradeIcon(type) {
            // Ensure audio context is running
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
            
            // Play specific sound effects for upgrade icons
            if (type === 'lab') {
                // Lab icon - scientific bubbling sound
                const bubbleFreqs = [300, 400, 350, 450]; // Bubbling pattern
                bubbleFreqs.forEach((freq, i) => {
                    setTimeout(() => {
                        createTone(freq, 0.2, audioContext.currentTime);
                    }, i * 100);
                });
                showMessage('🧪 Beetle Lab activated! Science in progress!');
            } else if (type === 'portal') {
                // Portal icon - mystical portal sound
                playGoldenSpiralSound(); // Reuse the spiral sound for portals
                showMessage('🌀 Interdimensional Portal activated! Beetles incoming!');
            }
        }
        
        function toggleClicker() {
            const panel = document.getElementById('beetleClicker');
            const toggle = document.getElementById('toggleText');
            
            gameState.clickerOpen = !gameState.clickerOpen;
            
            if (gameState.clickerOpen) {
                panel.classList.add('open');
                toggle.textContent = '❌ CLOSE EMPIRE';
            } else {
                panel.classList.remove('open');
                toggle.textContent = '📱 OPEN BEETLE EMPIRE';
            }
        }
        
        function clickBeetle() {
            gameState.beetles += gameState.clickPower;
            gameState.totalClicks++;
            gameState.totalBeetles += gameState.clickPower;
            
            // Create click effect
            createClickEffect();
            
            // Update display
            updateDisplay();
            
            // Check achievements
            checkAchievements();
        }
        
        function createClickEffect() {
            const clickEffect = document.createElement('div');
            clickEffect.className = 'beetle-click-effect';
            clickEffect.textContent = `+${gameState.clickPower}`;
            
            // Position randomly around the clicker
            const clicker = document.querySelector('.main-beetle-clicker');
            const rect = clicker.getBoundingClientRect();
            clickEffect.style.left = (rect.left + Math.random() * rect.width) + 'px';
            clickEffect.style.top = (rect.top + Math.random() * rect.height) + 'px';
            
            document.body.appendChild(clickEffect);
            
            setTimeout(() => {
                if (clickEffect && clickEffect.parentNode) {
                    clickEffect.parentNode.removeChild(clickEffect);
                }
            }, 1000);
        }
        
        function buyUpgrade(type) {
            // Ensure audio context is running
            if (audioContext.state === 'suspended') {
                audioContext.resume();
            }
            
            const upgrade = gameState.upgrades[type];
            
            // Check if upgrade is maxed out
            if (upgrade.maxOwned && upgrade.owned >= upgrade.maxOwned) {
                showMessage(`🚫 ${type.toUpperCase()} is already maxed out!`);
                return;
            }
            
            if (gameState.beetles >= upgrade.cost) {
                gameState.beetles -= upgrade.cost;
                upgrade.owned++;
                
                // Play upgrade purchase sound
                playUpgradeSound();
                
                // Special handling for cursor - activate beetle cursor
                if (type === 'cursor' && upgrade.owned === 1) {
                    document.body.classList.add('beetle-cursor');
                    showMessage('🪳 Beetle cursor activated! Your cursor is now a beetle!');
                }
                
                // Special handling for lab - show lab icon
                if (type === 'lab' && upgrade.owned === 1) {
                    document.getElementById('labIcon').classList.add('visible');
                }
                
                // Special handling for portal - show portal icon
                if (type === 'portal' && upgrade.owned === 1) {
                    document.getElementById('portalIcon').classList.add('visible');
                }
                
                // Special handling for temple - SHIT GETS REAL!
                if (type === 'temple' && upgrade.owned === 1) {
                    activateTempleMode();
                }
                
                // Special handling for heaven - DIVINE TRANSCENDENCE!
                if (type === 'heaven' && upgrade.owned === 1) {
                    activateHeavenMode();
                }
                
                // Special handling for click power - increase click power
                if (type === 'clickpower') {
                    calculateClickPower();
                }
                
                // Increase cost (Cookie Clicker style) only if not maxed
                if (!upgrade.maxOwned || upgrade.owned < upgrade.maxOwned) {
                    upgrade.cost = Math.ceil(upgrade.cost * 1.15);
                }
                
                // Calculate new production
                calculateProduction();
                updateDisplay();
                checkAchievements();
                
                // Visual feedback
                if (type === 'clickpower') {
                    showMessage(`💪 BEETLE POWER purchased! Click power: ${gameState.clickPower}`);
                } else if (type !== 'cursor' || upgrade.owned === 1) {
                    showMessage(`🏭 ${type.toUpperCase()} purchased! +${upgrade.production}/sec`);
                }
            } else {
                // Play error sound for insufficient beetles
                playErrorSound();
                showMessage(`💸 Not enough beetles! Need ${upgrade.cost - gameState.beetles} more`);
            }
        }
        
        function calculateProduction() {
            gameState.beetlesPerSecond = 0;
            
            Object.entries(gameState.upgrades).forEach(([type, upgrade]) => {
                if (upgrade.production) {
                    gameState.beetlesPerSecond += upgrade.owned * upgrade.production;
                }
            });
        }
        
        function calculateClickPower() {
            gameState.clickPower = 1; // Base click power
            
            // Add click power from upgrades
            if (gameState.upgrades.clickpower) {
                gameState.clickPower += gameState.upgrades.clickpower.owned * gameState.upgrades.clickpower.clickBonus;
            }
        }
        
        function updateDisplay() {
            // Update main stats
            const beetleCountEl = document.getElementById('beetleCount');
            const beetlePerSecEl = document.getElementById('beetlePerSec');
            
            if (beetleCountEl) beetleCountEl.textContent = formatNumber(Math.floor(gameState.beetles));
            if (beetlePerSecEl) beetlePerSecEl.textContent = formatNumber(gameState.beetlesPerSecond);
            
            // Update upgrade displays
            Object.entries(gameState.upgrades).forEach(([type, upgrade]) => {
                const costElement = document.getElementById(`${type}-cost`);
                const ownedElement = document.getElementById(`${type}-owned`);
                const upgradeElement = document.getElementById(`upgrade-${type}`);
                
                // Update cost and owned display
                if (costElement) {
                    costElement.textContent = formatNumber(upgrade.cost);
                }
                if (ownedElement) {
                    ownedElement.textContent = upgrade.owned;
                }
                
                // Highlight affordable upgrades or mark as maxed
                if (upgradeElement) {
                    if (upgrade.maxOwned && upgrade.owned >= upgrade.maxOwned) {
                        upgradeElement.classList.add('maxed');
                        upgradeElement.classList.remove('affordable');
                        if (costElement) costElement.textContent = 'MAXED';
                    } else {
                        upgradeElement.classList.remove('maxed');
                        if (gameState.beetles >= upgrade.cost) {
                            upgradeElement.classList.add('affordable');
                        } else {
                            upgradeElement.classList.remove('affordable');
                        }
                    }
                }
            });
        }
        
        function formatNumber(num) {
            if (num >= 1e12) return (num / 1e12).toFixed(2) + 'T';
            if (num >= 1e9) return (num / 1e9).toFixed(2) + 'B';
            if (num >= 1e6) return (num / 1e6).toFixed(2) + 'M';
            if (num >= 1e3) return (num / 1e3).toFixed(2) + 'K';
            return num.toFixed(0);
        }
        
        function checkAchievements() {
            const achievements = gameState.achievements;
            
            // Check various achievement conditions
            if (!achievements['first-click'].unlocked && gameState.totalClicks >= 1) {
                unlockAchievement('first-click');
            }
            
            if (!achievements['hundred-beetles'].unlocked && gameState.totalBeetles >= 100) {
                unlockAchievement('hundred-beetles');
            }
            
            if (!achievements['thousand-beetles'].unlocked && gameState.totalBeetles >= 1000) {
                unlockAchievement('thousand-beetles');
            }
            
            if (!achievements['first-upgrade'].unlocked) {
                const hasUpgrade = Object.values(gameState.upgrades).some(upgrade => upgrade.owned > 0);
                if (hasUpgrade) unlockAchievement('first-upgrade');
            }
            
            if (!achievements['click-master'].unlocked && gameState.totalClicks >= 1000) {
                unlockAchievement('click-master');
            }
            
            if (!achievements['beetle-lord'].unlocked && gameState.totalBeetles >= 10000) {
                unlockAchievement('beetle-lord');
            }
            
            if (!achievements['speed-demon'].unlocked && gameState.beetlesPerSecond >= 100) {
                unlockAchievement('speed-demon');
            }
            
            if (!achievements['millionaire'].unlocked && gameState.totalBeetles >= 1000000) {
                unlockAchievement('millionaire');
            }
            
            if (!achievements['temple-builder'].unlocked && gameState.upgrades.temple.owned > 0) {
                unlockAchievement('temple-builder');
            }
        }
        
        function unlockAchievement(id) {
            gameState.achievements[id].unlocked = true;
            const achievement = gameState.achievements[id];
            showMessage(`🏆 ACHIEVEMENT UNLOCKED: ${achievement.name}!`);
            renderAchievements();
        }
        
        function renderAchievements() {
            const grid = document.getElementById('achievementGrid');
            grid.innerHTML = '';
            
            Object.entries(gameState.achievements).forEach(([id, achievement]) => {
                const achievementDiv = document.createElement('div');
                achievementDiv.className = `achievement ${achievement.unlocked ? 'unlocked' : ''}`;
                achievementDiv.innerHTML = `
                    <div class="achievement-icon">${achievement.icon}</div>
                    <div>${achievement.name}</div>
                `;
                achievementDiv.title = achievement.desc;
                grid.appendChild(achievementDiv);
            });
        }
        
        // Game loop for idle production
        function gameLoop() {
            if (gameState.beetlesPerSecond > 0) {
                gameState.beetles += gameState.beetlesPerSecond / 10; // 10 FPS
                gameState.totalBeetles += gameState.beetlesPerSecond / 10;
                updateDisplay();
                checkAchievements();
            }
        }
        
        // Save/Load game state
        function saveGame() {
            localStorage.setItem('beetleEmpireState', JSON.stringify(gameState));
        }
        
        function loadGame() {
            const saved = localStorage.getItem('beetleEmpireState');
            if (saved) {
                const savedState = JSON.parse(saved);
                gameState = { ...gameState, ...savedState };
                calculateProduction();
                calculateClickPower();
                updateDisplay();
                renderAchievements();
                
                // Restore beetle cursor if owned
                if (gameState.upgrades.cursor.owned > 0) {
                    document.body.classList.add('beetle-cursor');
                }
                
                // Restore upgrade icons if owned
                if (gameState.upgrades.lab.owned > 0) {
                    document.getElementById('labIcon').classList.add('visible');
                }
                if (gameState.upgrades.portal.owned > 0) {
                    document.getElementById('portalIcon').classList.add('visible');
                }
            }
        }
        
        // Initialize game
        function initBeetleClicker() {
            loadGame();
            renderAchievements();
            calculateClickPower();
            updateDisplay();
            
            // Start game loop
            setInterval(gameLoop, 100); // 10 FPS
            
            // Auto-save every 30 seconds
            setInterval(saveGame, 30000);
        }
        
        // Initialize all secrets
        window.addEventListener('load', () => {
            initTextSecrets();
            addTimestampMysteries();
            initBeetleClicker();
            
            // Hidden initialization sequence
            console.log('🪳 %cBEETLE MYSTERIES INITIALIZED', 'color: #FFD700; font-size: 12px;');
            console.log('∴ Sacred numbers: 3, 7, 13, 23, 33, 47, 77, 93, 144, 777');
            console.log('⊹ Type "ILLUMINATI" letter by letter to reveal the truth');
            console.log('△ Alt+P for angelic interface, Alt+Shift+J for sacred geometry');
            console.log('◊ Watch for 11:11, 23:23, 33:33 on the clock...');
            
            // Add new CSS animations
            const secretStyles = document.createElement('style');
            secretStyles.textContent = `
                @keyframes sparkle-fall {
                    from { transform: translateY(-50px) rotate(0deg); opacity: 1; }
                    to { transform: translateY(100vh) rotate(720deg); opacity: 0; }
                }
                
                @keyframes fly-across {
                    from { left: -100px; transform: rotate(0deg); }
                    to { left: calc(100vw + 100px); transform: rotate(360deg); }
                }
                
                @keyframes disco-flash {
                    0% { background-color: #ff0000; }
                    10% { background-color: #ff8000; }
                    20% { background-color: #ffff00; }
                    30% { background-color: #80ff00; }
                    40% { background-color: #00ff00; }
                    50% { background-color: #00ff80; }
                    60% { background-color: #00ffff; }
                    70% { background-color: #0080ff; }
                    80% { background-color: #0000ff; }
                    90% { background-color: #8000ff; }
                    100% { background-color: #ff00ff; }
                }
                
                @keyframes matrix-scroll {
                    from { transform: translateY(-100%); }
                    to { transform: translateY(100%); }
                }
                
                @keyframes earthquake {
                    0%, 100% { transform: translateX(0); }
                    10% { transform: translateX(-2px) rotate(0.5deg); }
                    20% { transform: translateX(2px) rotate(-0.5deg); }
                    30% { transform: translateX(-3px) rotate(0.5deg); }
                    40% { transform: translateX(3px) rotate(-0.5deg); }
                    50% { transform: translateX(-2px) rotate(0.5deg); }
                    60% { transform: translateX(2px) rotate(-0.5deg); }
                    70% { transform: translateX(-1px) rotate(0.5deg); }
                    80% { transform: translateX(1px) rotate(-0.5deg); }
                    90% { transform: translateX(-1px) rotate(0.5deg); }
                }
                
                @keyframes y2k-gradient {
                    0% { background-position: 0% 50%; }
                    50% { background-position: 100% 50%; }
                    100% { background-position: 0% 50%; }
                }
                
                @keyframes title-mega-bounce {
                    0%, 100% { transform: perspective(500px) rotateX(15deg) translateY(0) scale(1) rotateZ(0deg); }
                    25% { transform: perspective(500px) rotateX(15deg) translateY(-50px) scale(1.2) rotateZ(5deg); }
                    75% { transform: perspective(500px) rotateX(15deg) translateY(-30px) scale(1.1) rotateZ(-5deg); }
                }
                
                @keyframes rainbow-spin {
                    0% { filter: hue-rotate(0deg) saturate(200%) brightness(150%); }
                    100% { filter: hue-rotate(360deg) saturate(200%) brightness(150%); }
                }
                
                @keyframes golden-fade {
                    0% { opacity: 0.7; transform: scale(1) rotate(0deg); }
                    50% { opacity: 1; transform: scale(1.2) rotate(180deg); }
                    100% { opacity: 0; transform: scale(0.8) rotate(360deg); }
                }
                
                @keyframes all-seeing-eye {
                    0% { opacity: 0; transform: translate(-50%, -50%) scale(0) rotate(0deg); }
                    20% { opacity: 1; transform: translate(-50%, -50%) scale(1) rotate(0deg); }
                    80% { opacity: 1; transform: translate(-50%, -50%) scale(1) rotate(0deg); }
                    100% { opacity: 0; transform: translate(-50%, -50%) scale(1.5) rotate(360deg); }
                }
            `;
            document.head.appendChild(secretStyles);
        });
    </script>
</body>
</html>